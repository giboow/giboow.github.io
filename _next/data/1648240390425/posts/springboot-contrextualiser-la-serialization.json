{"pageProps":{"postData":{"id":"springboot-contrextualiser-la-serialization","contentHtml":"<p>À chaque fois que j’ai développé une API, je me suis confronté au même problème : comment filtrer les données en fonction de mes appels API.</p>\n<p>En effet, certains appels qui sont disponibles par exemple pour appel “utilisateur” ne rendront pas les mêmes données qu’un appel disponible pour un “administrateur”.</p>\n<h1>Le projet</h1>\n<p>Pour commencer, nous allons construire une API REST pour la gestion des véhicules, nous aurons donc un objet “<strong>Vehicle”</strong> qui sera constitué de la façon suivante :</p>\n<ul>\n<li>Id: Long</li>\n<li>brand: String ⇒ La marque, par exemple (Renault)</li>\n<li>model: String ⇒ Le model, par exemple (Megane)</li>\n<li>registrationPlate: String  ⇒ La plaque d’immatriculation de la voiture, par exemple (SP-800-TT)</li>\n<li>Serial number : String ⇒ Le numéro de série du véhicule</li>\n</ul>\n<p>Ces données pourront être lues par n’importe quel utilisateur. Nous définirons en plus des données dont l’utilisateur n’a pas besoin, mais que l’administrateur peut consulter :</p>\n<ul>\n<li>CreatedAt : LocalDatetime ⇒ Date de création de l’objet en base de données</li>\n<li>UpdatedAt : LocalDatetime ⇒ Date de modification de l’objet en base de données</li>\n</ul>\n<p>Pour gagner du temps lors de mes développements, je définis une Class abstraite qui me sert de base a l’ensemble de mes entités :</p>\n<div class=\"remark-highlight\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@MappedSuperclass</span>\n<span class=\"token annotation punctuation\">@Data</span>\n<span class=\"token annotation punctuation\">@SuperBuilder</span>\n<span class=\"token annotation punctuation\">@NoArgsConstructor</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">abstract</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">EntityAbstract</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation punctuation\">@Id</span>\n    <span class=\"token annotation punctuation\">@GeneratedValue</span><span class=\"token punctuation\">(</span>strategy <span class=\"token operator\">=</span> <span class=\"token class-name\">GenerationType</span><span class=\"token punctuation\">.</span>IDENTITY<span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Long</span> id<span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@CreatedDate</span>\n    <span class=\"token annotation punctuation\">@Column</span><span class=\"token punctuation\">(</span>nullable <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> columnDefinition <span class=\"token operator\">=</span> <span class=\"token string\">\"timestamp default now()\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token annotation punctuation\">@JsonProperty</span><span class=\"token punctuation\">(</span>access <span class=\"token operator\">=</span> <span class=\"token class-name\">JsonProperty<span class=\"token punctuation\">.</span>Access</span><span class=\"token punctuation\">.</span>READ_ONLY<span class=\"token punctuation\">)</span>\n    <span class=\"token annotation punctuation\">@JsonFormat</span><span class=\"token punctuation\">(</span>shape<span class=\"token operator\">=</span><span class=\"token class-name\">JsonFormat<span class=\"token punctuation\">.</span>Shape</span><span class=\"token punctuation\">.</span>STRING<span class=\"token punctuation\">,</span> pattern<span class=\"token operator\">=</span><span class=\"token string\">\"yyyy-MM-dd'T'HH:mm:ss'Z'\"</span><span class=\"token punctuation\">,</span> timezone<span class=\"token operator\">=</span><span class=\"token string\">\"UTC\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token class-name\">LocalDateTime</span> createdAt<span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@LastModifiedDate</span>\n    <span class=\"token annotation punctuation\">@Column</span><span class=\"token punctuation\">(</span>nullable <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> columnDefinition <span class=\"token operator\">=</span> <span class=\"token string\">\"timestamp default now()\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token annotation punctuation\">@JsonProperty</span><span class=\"token punctuation\">(</span>access <span class=\"token operator\">=</span> <span class=\"token class-name\">JsonProperty<span class=\"token punctuation\">.</span>Access</span><span class=\"token punctuation\">.</span>READ_ONLY<span class=\"token punctuation\">)</span>\n    <span class=\"token annotation punctuation\">@JsonFormat</span><span class=\"token punctuation\">(</span>shape<span class=\"token operator\">=</span><span class=\"token class-name\">JsonFormat<span class=\"token punctuation\">.</span>Shape</span><span class=\"token punctuation\">.</span>STRING<span class=\"token punctuation\">,</span> pattern<span class=\"token operator\">=</span><span class=\"token string\">\"yyyy-MM-dd'T'HH:mm:ss'Z'\"</span><span class=\"token punctuation\">,</span> timezone<span class=\"token operator\">=</span><span class=\"token string\">\"UTC\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token class-name\">LocalDateTime</span> updatedAt<span class=\"token punctuation\">;</span>\n\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>Puis je définis ma classe Vehicle :</p>\n<div class=\"remark-highlight\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Entity</span>\n<span class=\"token annotation punctuation\">@Data</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Vehicle</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">EntityAbstract</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation punctuation\">@NotEmpty</span>\n    <span class=\"token annotation punctuation\">@Column</span><span class=\"token punctuation\">(</span>nullable <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\n    <span class=\"token class-name\">String</span> registrationPlate<span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@NotEmpty</span>\n    <span class=\"token annotation punctuation\">@Column</span><span class=\"token punctuation\">(</span>nullable <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\n    <span class=\"token class-name\">String</span> model<span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@NotEmpty</span>\n    <span class=\"token annotation punctuation\">@Column</span><span class=\"token punctuation\">(</span>nullable <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\n    <span class=\"token class-name\">String</span> brand<span class=\"token punctuation\">;</span>\n\n\t\t<span class=\"token annotation punctuation\">@NotEmpty</span>\n    <span class=\"token annotation punctuation\">@Column</span><span class=\"token punctuation\">(</span>nullable <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\n    <span class=\"token class-name\">String</span> serialNumber<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>Enfin nous définirons un Controller qui permettra d’accéder aux données à l’aide d’un service de récupération des données avec une route utilisateur ainsi qu’une route Admin :</p>\n<div class=\"remark-highlight\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@RestController</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">VehicleController</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token annotation punctuation\">@Autowired</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">VehicleService</span> vehicleService<span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@GetMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/vehicle/list\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&#x3C;</span><span class=\"token class-name\">Vehicle</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">listVehicles</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> vehicleService<span class=\"token punctuation\">.</span><span class=\"token function\">listVehicles</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n    <span class=\"token annotation punctuation\">@GetMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/admin/vehicle/list\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&#x3C;</span><span class=\"token class-name\">Vehicle</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">adminListVehicles</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> vehicleService<span class=\"token punctuation\">.</span><span class=\"token function\">listVehicles</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>Pour le moment, le rendu des données est exactement le même, mais nous allons voir par la suite comment “filter” les données.</p>\n<h1>Jackson à la rescousse!</h1>\n<p>Pour filtrer les données, nous allons utiliser une fonctionnalité de la librairie Jackson, les JsonView!</p>\n<p>Nous devons définir une classe contenant des interfaces qui correspondent aux niveau des filtres de notre API :</p>\n<div class=\"remark-highlight\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token doc-comment comment\">/**</span>\n<span class=\"token doc-comment comment\"> * Json view filter</span>\n<span class=\"token doc-comment comment\"> */</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">JsonViews</span> <span class=\"token punctuation\">{</span>\n\t  <span class=\"token keyword\">public</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">Create</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">Update</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Create</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">Summary</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Update</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n    <span class=\"token keyword\">public</span> <span class=\"token keyword\">interface</span> <span class=\"token class-name\">Admin</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">Summary</span><span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>Le niveau “<strong>Create”</strong> correspond aux attributs visibles pour la création d’un objet, “<strong>Update”</strong> étend du filtre précédent et permettra de filtrer uniquement les attributs qui peuvent être mis à jour. <strong>“Summary”,</strong> étend des propriété de <strong>“Create”</strong> et <strong>”Update”.</strong> Enfin “<strong>Admin”</strong> permet de visualiser ou de mettre à jour des attributs uniquement accessibles aux Administrateurs.</p>\n<p>Cette fonctionnalité sert non seulement au rendu d’un JSON, que lorsque l’API consomme le Body d’une requête.</p>\n<p>Nous allons mettre à jour l’entité pour que les attributs soient filtrés correctement par l’API :</p>\n<div class=\"remark-highlight\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@MappedSuperclass</span>\n<span class=\"token annotation punctuation\">@Data</span>\n<span class=\"token annotation punctuation\">@SuperBuilder</span>\n<span class=\"token annotation punctuation\">@NoArgsConstructor</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">abstract</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">EntityAbstract</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation punctuation\">@Id</span>\n    <span class=\"token annotation punctuation\">@GeneratedValue</span><span class=\"token punctuation\">(</span>strategy<span class=\"token operator\">=</span><span class=\"token class-name\">GenerationType</span><span class=\"token punctuation\">.</span>AUTO<span class=\"token punctuation\">)</span>\n    <span class=\"token annotation punctuation\">@JsonView</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">JsonViews<span class=\"token punctuation\">.</span>Update</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">Integer</span> id<span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@CreatedDate</span>\n    <span class=\"token annotation punctuation\">@Column</span><span class=\"token punctuation\">(</span>nullable <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> columnDefinition <span class=\"token operator\">=</span> <span class=\"token string\">\"timestamp default CURRENT_TIMESTAMP\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token annotation punctuation\">@JsonProperty</span><span class=\"token punctuation\">(</span>access <span class=\"token operator\">=</span> <span class=\"token class-name\">JsonProperty<span class=\"token punctuation\">.</span>Access</span><span class=\"token punctuation\">.</span>READ_ONLY<span class=\"token punctuation\">)</span>\n    <span class=\"token annotation punctuation\">@JsonFormat</span><span class=\"token punctuation\">(</span>shape<span class=\"token operator\">=</span><span class=\"token class-name\">JsonFormat<span class=\"token punctuation\">.</span>Shape</span><span class=\"token punctuation\">.</span>STRING<span class=\"token punctuation\">,</span> pattern<span class=\"token operator\">=</span><span class=\"token string\">\"yyyy-MM-dd'T'HH:mm:ss'Z'\"</span><span class=\"token punctuation\">,</span> timezone<span class=\"token operator\">=</span><span class=\"token string\">\"UTC\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token annotation punctuation\">@JsonView</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">JsonViews<span class=\"token punctuation\">.</span>Admin</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span>\n    <span class=\"token class-name\">LocalDateTime</span> createdAt<span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@LastModifiedDate</span>\n    <span class=\"token annotation punctuation\">@Column</span><span class=\"token punctuation\">(</span>nullable <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">,</span> columnDefinition <span class=\"token operator\">=</span> <span class=\"token string\">\"timestamp default CURRENT_TIMESTAMP\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token annotation punctuation\">@JsonProperty</span><span class=\"token punctuation\">(</span>access <span class=\"token operator\">=</span> <span class=\"token class-name\">JsonProperty<span class=\"token punctuation\">.</span>Access</span><span class=\"token punctuation\">.</span>READ_ONLY<span class=\"token punctuation\">)</span>\n    <span class=\"token annotation punctuation\">@JsonFormat</span><span class=\"token punctuation\">(</span>shape<span class=\"token operator\">=</span><span class=\"token class-name\">JsonFormat<span class=\"token punctuation\">.</span>Shape</span><span class=\"token punctuation\">.</span>STRING<span class=\"token punctuation\">,</span> pattern<span class=\"token operator\">=</span><span class=\"token string\">\"yyyy-MM-dd'T'HH:mm:ss'Z'\"</span><span class=\"token punctuation\">,</span> timezone<span class=\"token operator\">=</span><span class=\"token string\">\"UTC\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token annotation punctuation\">@JsonView</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">JsonViews<span class=\"token punctuation\">.</span>Admin</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span>\n    <span class=\"token class-name\">LocalDateTime</span> updatedAt<span class=\"token punctuation\">;</span>\n\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<div class=\"remark-highlight\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@Entity</span>\n<span class=\"token annotation punctuation\">@Data</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">Vehicle</span> <span class=\"token keyword\">extends</span> <span class=\"token class-name\">EntityAbstract</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token annotation punctuation\">@NotEmpty</span>\n    <span class=\"token annotation punctuation\">@Column</span><span class=\"token punctuation\">(</span>nullable <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\n    <span class=\"token annotation punctuation\">@JsonView</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">JsonViews<span class=\"token punctuation\">.</span>Create</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span>\n    <span class=\"token class-name\">String</span> registrationPlate<span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@NotEmpty</span>\n    <span class=\"token annotation punctuation\">@Column</span><span class=\"token punctuation\">(</span>nullable <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\n    <span class=\"token annotation punctuation\">@JsonView</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">JsonViews<span class=\"token punctuation\">.</span>Create</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span>\n    <span class=\"token class-name\">String</span> model<span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@NotEmpty</span>\n    <span class=\"token annotation punctuation\">@Column</span><span class=\"token punctuation\">(</span>nullable <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\n    <span class=\"token annotation punctuation\">@JsonView</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">JsonViews<span class=\"token punctuation\">.</span>Create</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span>\n    <span class=\"token class-name\">String</span> brand<span class=\"token punctuation\">;</span>\n\n    <span class=\"token annotation punctuation\">@NotEmpty</span>\n    <span class=\"token annotation punctuation\">@Column</span><span class=\"token punctuation\">(</span>nullable <span class=\"token operator\">=</span> <span class=\"token boolean\">false</span><span class=\"token punctuation\">)</span>\n    <span class=\"token annotation punctuation\">@JsonView</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">JsonViews<span class=\"token punctuation\">.</span>Create</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span>\n    <span class=\"token class-name\">String</span> serialNumber<span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>Enfin nous pouvons l’utiliser dans le controller :</p>\n<div class=\"remark-highlight\"><pre class=\"language-java\"><code class=\"language-java\"><span class=\"token annotation punctuation\">@RestController</span>\n<span class=\"token keyword\">public</span> <span class=\"token keyword\">class</span> <span class=\"token class-name\">VehicleController</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token annotation punctuation\">@Autowired</span>\n    <span class=\"token keyword\">private</span> <span class=\"token class-name\">VehicleService</span> vehicleService<span class=\"token punctuation\">;</span>\n\n\t\t<span class=\"token doc-comment comment\">/**</span>\n<span class=\"token doc-comment comment\">     * List véhicles</span>\n<span class=\"token doc-comment comment\">     */</span>\n    <span class=\"token annotation punctuation\">@GetMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/vehicle/list\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token annotation punctuation\">@JsonView</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">JsonViews<span class=\"token punctuation\">.</span>Summary</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&#x3C;</span><span class=\"token class-name\">Vehicle</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">listVehicles</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> vehicleService<span class=\"token punctuation\">.</span><span class=\"token function\">listVehicles</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n\t\t<span class=\"token doc-comment comment\">/**</span>\n<span class=\"token doc-comment comment\">     * List vehicles (Admin)</span>\n<span class=\"token doc-comment comment\">     */</span>\n    <span class=\"token annotation punctuation\">@GetMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/admin/vehicle/list\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token annotation punctuation\">@JsonView</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">JsonViews<span class=\"token punctuation\">.</span>Summary</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">List</span><span class=\"token generics\"><span class=\"token punctuation\">&#x3C;</span><span class=\"token class-name\">Vehicle</span><span class=\"token punctuation\">></span></span> <span class=\"token function\">adminListVehicles</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> vehicleService<span class=\"token punctuation\">.</span><span class=\"token function\">listVehicles</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n\t\t<span class=\"token doc-comment comment\">/**</span>\n<span class=\"token doc-comment comment\">     * Create vehicle (Admin)</span>\n<span class=\"token doc-comment comment\">     */</span>\n    <span class=\"token annotation punctuation\">@PostMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/admin/vehicle\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token annotation punctuation\">@JsonView</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">JsonViews<span class=\"token punctuation\">.</span>Admin</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Vehicle</span> <span class=\"token function\">postAdminVehicle</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@JsonView</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">JsonViews<span class=\"token punctuation\">.</span>Create</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span> <span class=\"token class-name\">Vehicle</span> vehicle<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> vehicleService<span class=\"token punctuation\">.</span><span class=\"token function\">createVehicle</span><span class=\"token punctuation\">(</span>vehicle<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n\t\t<span class=\"token doc-comment comment\">/**</span>\n<span class=\"token doc-comment comment\">     * Update vehicle (Admin)</span>\n<span class=\"token doc-comment comment\">     */</span>\n    <span class=\"token annotation punctuation\">@PutMapping</span><span class=\"token punctuation\">(</span><span class=\"token string\">\"/admin/vehicle\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token annotation punctuation\">@JsonView</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">JsonViews<span class=\"token punctuation\">.</span>Admin</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">public</span> <span class=\"token class-name\">Vehicle</span> <span class=\"token function\">putAdminVehicle</span><span class=\"token punctuation\">(</span><span class=\"token annotation punctuation\">@JsonView</span><span class=\"token punctuation\">(</span><span class=\"token class-name\">JsonViews<span class=\"token punctuation\">.</span>Update</span><span class=\"token punctuation\">.</span><span class=\"token keyword\">class</span><span class=\"token punctuation\">)</span> <span class=\"token class-name\">Vehicle</span> vehicle<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">return</span> vehicleService<span class=\"token punctuation\">.</span><span class=\"token function\">updateVehicle</span><span class=\"token punctuation\">(</span>vehicle<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n    <span class=\"token punctuation\">}</span>\n\n<span class=\"token punctuation\">}</span>\n</code></pre></div>\n<h1>Résultat</h1>\n<h2>Liste des véhicules (Vue utilisateur)</h2>\n<div class=\"remark-highlight\"><pre class=\"language-bash\"><code class=\"language-bash\">~ <span class=\"token function\">curl</span> http://localhost:8080/vehicle/list\n<span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"id\"</span>:1,<span class=\"token string\">\"registrationPlate\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"AA-205-AA\"</span>,<span class=\"token string\">\"model\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"205\"</span>,<span class=\"token string\">\"brand\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"PEUGEOT\"</span>,<span class=\"token string\">\"serialNumber\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"3KX9YLH2K980HNYYS1YZ\"</span><span class=\"token punctuation\">}</span>,<span class=\"token punctuation\">{</span><span class=\"token string\">\"id\"</span>:2,<span class=\"token string\">\"registrationPlate\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"AA-206-AA\"</span>,<span class=\"token string\">\"model\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"206\"</span>,<span class=\"token string\">\"brand\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"PEUGEOT\"</span>,<span class=\"token string\">\"serialNumber\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"VST52ASAH145TIZGJ3LC\"</span><span class=\"token punctuation\">}</span>,<span class=\"token punctuation\">{</span><span class=\"token string\">\"id\"</span>:3,<span class=\"token string\">\"registrationPlate\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"AA-207-AA\"</span>,<span class=\"token string\">\"model\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"207\"</span>,<span class=\"token string\">\"brand\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"PEUGEOT\"</span>,<span class=\"token string\">\"serialNumber\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"JI0BNW8D1HYGPFAECEPJ\"</span><span class=\"token punctuation\">}</span>,<span class=\"token punctuation\">{</span><span class=\"token string\">\"id\"</span>:4,<span class=\"token string\">\"registrationPlate\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"AA-208-AA\"</span>,<span class=\"token string\">\"model\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"208\"</span>,<span class=\"token string\">\"brand\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"PEUGEOT\"</span>,<span class=\"token string\">\"serialNumber\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"LN97FF02UWRJYRAEGFL5\"</span><span class=\"token punctuation\">}</span>,<span class=\"token punctuation\">{</span><span class=\"token string\">\"id\"</span>:5,<span class=\"token string\">\"registrationPlate\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"AA-106-AA\"</span>,<span class=\"token string\">\"model\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"106\"</span>,<span class=\"token string\">\"brand\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"PEUGEOT\"</span>,<span class=\"token string\">\"serialNumber\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"R94DJ8P5PT7M6PB5DP5B\"</span><span class=\"token punctuation\">}</span>,<span class=\"token punctuation\">{</span><span class=\"token string\">\"id\"</span>:6,<span class=\"token string\">\"registrationPlate\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"AA-107-AA\"</span>,<span class=\"token string\">\"model\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"107\"</span>,<span class=\"token string\">\"brand\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"PEUGEOT\"</span>,<span class=\"token string\">\"serialNumber\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"OJHHEW2SP2KJDU3CZLFO\"</span><span class=\"token punctuation\">}</span>,<span class=\"token punctuation\">{</span><span class=\"token string\">\"id\"</span>:7,<span class=\"token string\">\"registrationPlate\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"AA-108-AA\"</span>,<span class=\"token string\">\"model\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"108\"</span>,<span class=\"token string\">\"brand\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"PEUGEOT\"</span>,<span class=\"token string\">\"serialNumber\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"49LUMOTWMOQSNHK09MR3\"</span><span class=\"token punctuation\">}</span>,<span class=\"token punctuation\">{</span><span class=\"token string\">\"id\"</span>:8,<span class=\"token string\">\"registrationPlate\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"AA-306-AA\"</span>,<span class=\"token string\">\"model\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"306\"</span>,<span class=\"token string\">\"brand\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"PEUGEOT\"</span>,<span class=\"token string\">\"serialNumber\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"0KBBBHVTZN9P66I8TVGT\"</span><span class=\"token punctuation\">}</span>,<span class=\"token punctuation\">{</span><span class=\"token string\">\"id\"</span>:9,<span class=\"token string\">\"registrationPlate\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"AA-307-AA\"</span>,<span class=\"token string\">\"model\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"307\"</span>,<span class=\"token string\">\"brand\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"PEUGEOT\"</span>,<span class=\"token string\">\"serialNumber\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"TK0GX92MY29AR0H9ZYIB\"</span><span class=\"token punctuation\">}</span>,<span class=\"token punctuation\">{</span><span class=\"token string\">\"id\"</span>:10,<span class=\"token string\">\"registrationPlate\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"AA-308-AA\"</span>,<span class=\"token string\">\"model\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"308\"</span>,<span class=\"token string\">\"brand\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"PEUGEOT\"</span>,<span class=\"token string\">\"serialNumber\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"EKNPA002KCQXYAUX04AV\"</span><span class=\"token punctuation\">}</span>,<span class=\"token punctuation\">{</span><span class=\"token string\">\"id\"</span>:11,<span class=\"token string\">\"registrationPlate\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"AA-309-AA\"</span>,<span class=\"token string\">\"model\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"309\"</span>,<span class=\"token string\">\"brand\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"PEUGEOT\"</span>,<span class=\"token string\">\"serialNumber\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"D1788D08RU0AU3O5BVXR\"</span><span class=\"token punctuation\">}</span>,<span class=\"token punctuation\">{</span><span class=\"token string\">\"id\"</span>:12,<span class=\"token string\">\"registrationPlate\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"AA-405-AA\"</span>,<span class=\"token string\">\"model\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"405\"</span>,<span class=\"token string\">\"brand\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"PEUGEOT\"</span>,<span class=\"token string\">\"serialNumber\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"PHU0M7NKZ799D64VBVJ8\"</span><span class=\"token punctuation\">}</span>,<span class=\"token punctuation\">{</span><span class=\"token string\">\"id\"</span>:13,<span class=\"token string\">\"registrationPlate\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"AA-406-AA\"</span>,<span class=\"token string\">\"model\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"406\"</span>,<span class=\"token string\">\"brand\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"PEUGEOT\"</span>,<span class=\"token string\">\"serialNumber\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"NAD3F2ULL5TY4QCECLAO\"</span><span class=\"token punctuation\">}</span>,<span class=\"token punctuation\">{</span><span class=\"token string\">\"id\"</span>:14,<span class=\"token string\">\"registrationPlate\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"AA-407-AA\"</span>,<span class=\"token string\">\"model\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"407\"</span>,<span class=\"token string\">\"brand\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"PEUGEOT\"</span>,<span class=\"token string\">\"serialNumber\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"C842THXCOBFFZ0O5U0YK\"</span><span class=\"token punctuation\">}</span>,<span class=\"token punctuation\">{</span><span class=\"token string\">\"id\"</span>:15,<span class=\"token string\">\"registrationPlate\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"AA-508-AA\"</span>,<span class=\"token string\">\"model\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"508\"</span>,<span class=\"token string\">\"brand\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"PEUGEOT\"</span>,<span class=\"token string\">\"serialNumber\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"F0T2ELSQ0VPRF1NBY8XH\"</span><span class=\"token punctuation\">}</span>,<span class=\"token punctuation\">{</span><span class=\"token string\">\"id\"</span>:16,<span class=\"token string\">\"registrationPlate\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"AA-407-AA\"</span>,<span class=\"token string\">\"model\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"407\"</span>,<span class=\"token string\">\"brand\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"PEUGEOT\"</span>,<span class=\"token string\">\"serialNumber\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"WEBVP95ON3HDX0TGPFXB\"</span><span class=\"token punctuation\">}</span>,<span class=\"token punctuation\">{</span><span class=\"token string\">\"id\"</span>:17,<span class=\"token string\">\"registrationPlate\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"AA-508-AA\"</span>,<span class=\"token string\">\"model\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"508\"</span>,<span class=\"token string\">\"brand\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"PEUGEOT\"</span>,<span class=\"token string\">\"serialNumber\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"TEZ3D70UDBY8UKHRKSYY\"</span><span class=\"token punctuation\">}</span>,<span class=\"token punctuation\">{</span><span class=\"token string\">\"id\"</span>:18,<span class=\"token string\">\"registrationPlate\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"AA-605-AA\"</span>,<span class=\"token string\">\"model\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"605\"</span>,<span class=\"token string\">\"brand\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"PEUGEOT\"</span>,<span class=\"token string\">\"serialNumber\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"WIGYNFTWH0Q6E85Z2HA2\"</span><span class=\"token punctuation\">}</span>,<span class=\"token punctuation\">{</span><span class=\"token string\">\"id\"</span>:19,<span class=\"token string\">\"registrationPlate\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"AA-607-AA\"</span>,<span class=\"token string\">\"model\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"607\"</span>,<span class=\"token string\">\"brand\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"PEUGEOT\"</span>,<span class=\"token string\">\"serialNumber\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"OLI3JCTF82WUQK14Z295\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span>\n</code></pre></div>\n<h2>Liste des Véhicules (Vue Admin)</h2>\n<div class=\"remark-highlight\"><pre class=\"language-bash\"><code class=\"language-bash\">~ <span class=\"token function\">curl</span> http://localhost:8080/admin/vehicle/list\n<span class=\"token punctuation\">[</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"id\"</span>:1,<span class=\"token string\">\"createdAt\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"2022-02-28T14:32:13Z\"</span>,<span class=\"token string\">\"updatedAt\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"2022-02-28T14:32:13Z\"</span>,<span class=\"token string\">\"registrationPlate\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"AA-205-AA\"</span>,<span class=\"token string\">\"model\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"205\"</span>,<span class=\"token string\">\"brand\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"PEUGEOT\"</span>,<span class=\"token string\">\"serialNumber\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"3KX9YLH2K980HNYYS1YZ\"</span><span class=\"token punctuation\">}</span>,<span class=\"token punctuation\">{</span><span class=\"token string\">\"id\"</span>:2,<span class=\"token string\">\"createdAt\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"2022-02-28T14:32:13Z\"</span>,<span class=\"token string\">\"updatedAt\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"2022-02-28T14:32:13Z\"</span>,<span class=\"token string\">\"registrationPlate\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"AA-206-AA\"</span>,<span class=\"token string\">\"model\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"206\"</span>,<span class=\"token string\">\"brand\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"PEUGEOT\"</span>,<span class=\"token string\">\"serialNumber\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"VST52ASAH145TIZGJ3LC\"</span><span class=\"token punctuation\">}</span>,<span class=\"token punctuation\">{</span><span class=\"token string\">\"id\"</span>:3,<span class=\"token string\">\"createdAt\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"2022-02-28T14:32:13Z\"</span>,<span class=\"token string\">\"updatedAt\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"2022-02-28T14:32:13Z\"</span>,<span class=\"token string\">\"registrationPlate\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"AA-207-AA\"</span>,<span class=\"token string\">\"model\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"207\"</span>,<span class=\"token string\">\"brand\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"PEUGEOT\"</span>,<span class=\"token string\">\"serialNumber\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"JI0BNW8D1HYGPFAECEPJ\"</span><span class=\"token punctuation\">}</span>,<span class=\"token punctuation\">{</span><span class=\"token string\">\"id\"</span>:4,<span class=\"token string\">\"createdAt\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"2022-02-28T14:32:13Z\"</span>,<span class=\"token string\">\"updatedAt\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"2022-02-28T14:32:13Z\"</span>,<span class=\"token string\">\"registrationPlate\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"AA-208-AA\"</span>,<span class=\"token string\">\"model\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"208\"</span>,<span class=\"token string\">\"brand\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"PEUGEOT\"</span>,<span class=\"token string\">\"serialNumber\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"LN97FF02UWRJYRAEGFL5\"</span><span class=\"token punctuation\">}</span>,<span class=\"token punctuation\">{</span><span class=\"token string\">\"id\"</span>:5,<span class=\"token string\">\"createdAt\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"2022-02-28T14:32:13Z\"</span>,<span class=\"token string\">\"updatedAt\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"2022-02-28T14:32:13Z\"</span>,<span class=\"token string\">\"registrationPlate\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"AA-106-AA\"</span>,<span class=\"token string\">\"model\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"106\"</span>,<span class=\"token string\">\"brand\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"PEUGEOT\"</span>,<span class=\"token string\">\"serialNumber\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"R94DJ8P5PT7M6PB5DP5B\"</span><span class=\"token punctuation\">}</span>,<span class=\"token punctuation\">{</span><span class=\"token string\">\"id\"</span>:6,<span class=\"token string\">\"createdAt\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"2022-02-28T14:32:13Z\"</span>,<span class=\"token string\">\"updatedAt\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"2022-02-28T14:32:13Z\"</span>,<span class=\"token string\">\"registrationPlate\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"AA-107-AA\"</span>,<span class=\"token string\">\"model\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"107\"</span>,<span class=\"token string\">\"brand\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"PEUGEOT\"</span>,<span class=\"token string\">\"serialNumber\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"OJHHEW2SP2KJDU3CZLFO\"</span><span class=\"token punctuation\">}</span>,<span class=\"token punctuation\">{</span><span class=\"token string\">\"id\"</span>:7,<span class=\"token string\">\"createdAt\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"2022-02-28T14:32:13Z\"</span>,<span class=\"token string\">\"updatedAt\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"2022-02-28T14:32:13Z\"</span>,<span class=\"token string\">\"registrationPlate\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"AA-108-AA\"</span>,<span class=\"token string\">\"model\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"108\"</span>,<span class=\"token string\">\"brand\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"PEUGEOT\"</span>,<span class=\"token string\">\"serialNumber\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"49LUMOTWMOQSNHK09MR3\"</span><span class=\"token punctuation\">}</span>,<span class=\"token punctuation\">{</span><span class=\"token string\">\"id\"</span>:8,<span class=\"token string\">\"createdAt\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"2022-02-28T14:32:13Z\"</span>,<span class=\"token string\">\"updatedAt\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"2022-02-28T14:32:13Z\"</span>,<span class=\"token string\">\"registrationPlate\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"AA-306-AA\"</span>,<span class=\"token string\">\"model\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"306\"</span>,<span class=\"token string\">\"brand\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"PEUGEOT\"</span>,<span class=\"token string\">\"serialNumber\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"0KBBBHVTZN9P66I8TVGT\"</span><span class=\"token punctuation\">}</span>,<span class=\"token punctuation\">{</span><span class=\"token string\">\"id\"</span>:9,<span class=\"token string\">\"createdAt\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"2022-02-28T14:32:13Z\"</span>,<span class=\"token string\">\"updatedAt\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"2022-02-28T14:32:13Z\"</span>,<span class=\"token string\">\"registrationPlate\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"AA-307-AA\"</span>,<span class=\"token string\">\"model\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"307\"</span>,<span class=\"token string\">\"brand\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"PEUGEOT\"</span>,<span class=\"token string\">\"serialNumber\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"TK0GX92MY29AR0H9ZYIB\"</span><span class=\"token punctuation\">}</span>,<span class=\"token punctuation\">{</span><span class=\"token string\">\"id\"</span>:10,<span class=\"token string\">\"createdAt\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"2022-02-28T14:32:13Z\"</span>,<span class=\"token string\">\"updatedAt\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"2022-02-28T14:32:13Z\"</span>,<span class=\"token string\">\"registrationPlate\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"AA-308-AA\"</span>,<span class=\"token string\">\"model\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"308\"</span>,<span class=\"token string\">\"brand\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"PEUGEOT\"</span>,<span class=\"token string\">\"serialNumber\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"EKNPA002KCQXYAUX04AV\"</span><span class=\"token punctuation\">}</span>,<span class=\"token punctuation\">{</span><span class=\"token string\">\"id\"</span>:11,<span class=\"token string\">\"createdAt\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"2022-02-28T14:32:13Z\"</span>,<span class=\"token string\">\"updatedAt\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"2022-02-28T14:32:13Z\"</span>,<span class=\"token string\">\"registrationPlate\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"AA-309-AA\"</span>,<span class=\"token string\">\"model\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"309\"</span>,<span class=\"token string\">\"brand\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"PEUGEOT\"</span>,<span class=\"token string\">\"serialNumber\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"D1788D08RU0AU3O5BVXR\"</span><span class=\"token punctuation\">}</span>,<span class=\"token punctuation\">{</span><span class=\"token string\">\"id\"</span>:12,<span class=\"token string\">\"createdAt\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"2022-02-28T14:32:13Z\"</span>,<span class=\"token string\">\"updatedAt\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"2022-02-28T14:32:13Z\"</span>,<span class=\"token string\">\"registrationPlate\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"AA-405-AA\"</span>,<span class=\"token string\">\"model\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"405\"</span>,<span class=\"token string\">\"brand\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"PEUGEOT\"</span>,<span class=\"token string\">\"serialNumber\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"PHU0M7NKZ799D64VBVJ8\"</span><span class=\"token punctuation\">}</span>,<span class=\"token punctuation\">{</span><span class=\"token string\">\"id\"</span>:13,<span class=\"token string\">\"createdAt\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"2022-02-28T14:32:13Z\"</span>,<span class=\"token string\">\"updatedAt\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"2022-02-28T14:32:13Z\"</span>,<span class=\"token string\">\"registrationPlate\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"AA-406-AA\"</span>,<span class=\"token string\">\"model\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"406\"</span>,<span class=\"token string\">\"brand\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"PEUGEOT\"</span>,<span class=\"token string\">\"serialNumber\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"NAD3F2ULL5TY4QCECLAO\"</span><span class=\"token punctuation\">}</span>,<span class=\"token punctuation\">{</span><span class=\"token string\">\"id\"</span>:14,<span class=\"token string\">\"createdAt\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"2022-02-28T14:32:13Z\"</span>,<span class=\"token string\">\"updatedAt\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"2022-02-28T14:32:13Z\"</span>,<span class=\"token string\">\"registrationPlate\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"AA-407-AA\"</span>,<span class=\"token string\">\"model\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"407\"</span>,<span class=\"token string\">\"brand\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"PEUGEOT\"</span>,<span class=\"token string\">\"serialNumber\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"C842THXCOBFFZ0O5U0YK\"</span><span class=\"token punctuation\">}</span>,<span class=\"token punctuation\">{</span><span class=\"token string\">\"id\"</span>:15,<span class=\"token string\">\"createdAt\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"2022-02-28T14:32:13Z\"</span>,<span class=\"token string\">\"updatedAt\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"2022-02-28T14:32:13Z\"</span>,<span class=\"token string\">\"registrationPlate\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"AA-508-AA\"</span>,<span class=\"token string\">\"model\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"508\"</span>,<span class=\"token string\">\"brand\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"PEUGEOT\"</span>,<span class=\"token string\">\"serialNumber\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"F0T2ELSQ0VPRF1NBY8XH\"</span><span class=\"token punctuation\">}</span>,<span class=\"token punctuation\">{</span><span class=\"token string\">\"id\"</span>:16,<span class=\"token string\">\"createdAt\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"2022-02-28T14:32:13Z\"</span>,<span class=\"token string\">\"updatedAt\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"2022-02-28T14:32:13Z\"</span>,<span class=\"token string\">\"registrationPlate\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"AA-407-AA\"</span>,<span class=\"token string\">\"model\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"407\"</span>,<span class=\"token string\">\"brand\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"PEUGEOT\"</span>,<span class=\"token string\">\"serialNumber\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"WEBVP95ON3HDX0TGPFXB\"</span><span class=\"token punctuation\">}</span>,<span class=\"token punctuation\">{</span><span class=\"token string\">\"id\"</span>:17,<span class=\"token string\">\"createdAt\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"2022-02-28T14:32:13Z\"</span>,<span class=\"token string\">\"updatedAt\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"2022-02-28T14:32:13Z\"</span>,<span class=\"token string\">\"registrationPlate\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"AA-508-AA\"</span>,<span class=\"token string\">\"model\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"508\"</span>,<span class=\"token string\">\"brand\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"PEUGEOT\"</span>,<span class=\"token string\">\"serialNumber\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"TEZ3D70UDBY8UKHRKSYY\"</span><span class=\"token punctuation\">}</span>,<span class=\"token punctuation\">{</span><span class=\"token string\">\"id\"</span>:18,<span class=\"token string\">\"createdAt\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"2022-02-28T14:32:13Z\"</span>,<span class=\"token string\">\"updatedAt\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"2022-02-28T14:32:13Z\"</span>,<span class=\"token string\">\"registrationPlate\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"AA-605-AA\"</span>,<span class=\"token string\">\"model\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"605\"</span>,<span class=\"token string\">\"brand\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"PEUGEOT\"</span>,<span class=\"token string\">\"serialNumber\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"WIGYNFTWH0Q6E85Z2HA2\"</span><span class=\"token punctuation\">}</span>,<span class=\"token punctuation\">{</span><span class=\"token string\">\"id\"</span>:19,<span class=\"token string\">\"createdAt\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"2022-02-28T14:32:13Z\"</span>,<span class=\"token string\">\"updatedAt\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"2022-02-28T14:32:13Z\"</span>,<span class=\"token string\">\"registrationPlate\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"AA-607-AA\"</span>,<span class=\"token string\">\"model\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"607\"</span>,<span class=\"token string\">\"brand\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"PEUGEOT\"</span>,<span class=\"token string\">\"serialNumber\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"OLI3JCTF82WUQK14Z295\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">]</span>\n</code></pre></div>\n<h2>Création de véhicule</h2>\n<div class=\"remark-highlight\"><pre class=\"language-bash\"><code class=\"language-bash\">~ <span class=\"token function\">curl</span> --location --request POST <span class=\"token string\">'localhost:8080/admin/vehicle'</span> <span class=\"token punctuation\">\\</span>\n--header <span class=\"token string\">'Content-Type: application/json'</span> <span class=\"token punctuation\">\\</span>\n--data-raw <span class=\"token string\">'{</span>\n<span class=\"token string\">    \"brand\": \"VolksWagen\",</span>\n<span class=\"token string\">    \"model\": \"Golf\",</span>\n<span class=\"token string\">    \"serialNumber\": \"VWVWVWVWVWVWVW\",</span>\n<span class=\"token string\">    \"registrationPlate\": \"GO-123-LF\"</span>\n<span class=\"token string\">}'</span>\n<span class=\"token punctuation\">{</span><span class=\"token string\">\"id\"</span>:20,<span class=\"token string\">\"createdAt\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"2022-02-28T15:34:03Z\"</span>,<span class=\"token string\">\"updatedAt\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"2022-02-28T15:34:03Z\"</span>,<span class=\"token string\">\"registrationPlate\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"GO-123-LF\"</span>,<span class=\"token string\">\"model\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"Golf\"</span>,<span class=\"token string\">\"brand\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"VolksWagen\"</span>,<span class=\"token string\">\"serialNumber\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"VWVWVWVWVWVWVW\"</span><span class=\"token punctuation\">}</span>\n</code></pre></div>\n<h2>Mise a jour de véhicule</h2>\n<div class=\"remark-highlight\"><pre class=\"language-bash\"><code class=\"language-bash\">~ <span class=\"token function\">curl</span> --location --request PUT <span class=\"token string\">'localhost:8080/admin/vehicle'</span> <span class=\"token punctuation\">\\</span>\n--header <span class=\"token string\">'Content-Type: application/json'</span> <span class=\"token punctuation\">\\</span>\n--data-raw <span class=\"token string\">'{</span>\n<span class=\"token string\">    \"id\": 20,</span>\n<span class=\"token string\">    \"brand\": \"VolksWagen\",</span>\n<span class=\"token string\">    \"model\": \"Golf SW\",</span>\n<span class=\"token string\">    \"serialNumber\": \"VWVWVWVWVWVWVW\",</span>\n<span class=\"token string\">    \"registrationPlate\": \"GO-123-LF\"</span>\n<span class=\"token string\">}'</span>\n<span class=\"token punctuation\">{</span><span class=\"token string\">\"id\"</span>:20,<span class=\"token string\">\"createdAt\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"2022-02-28T15:40:55Z\"</span>,<span class=\"token string\">\"updatedAt\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"2022-02-28T15:40:55Z\"</span>,<span class=\"token string\">\"registrationPlate\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"GO-123-LF\"</span>,<span class=\"token string\">\"model\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"Golf SW\"</span>,<span class=\"token string\">\"brand\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"VolksWagen\"</span>,<span class=\"token string\">\"serialNumber\"</span><span class=\"token builtin class-name\">:</span><span class=\"token string\">\"VWVWVWVWVWVWVW\"</span><span class=\"token punctuation\">}</span>\n</code></pre></div>\n<p>Vous pouvez retrouver le github du projet ici : <a href=\"https://dev.to/giboow/springboot-contextualizing-serialization-29mp\">https://dev.to/giboow/springboot-contextualizing-serialization-29mp</a></p>\n<p>Crédit photo : https://unsplash.com/photos/WVl1N2C2zEA</p>\n","author":"giboow","title":"SpringBoot -  Contextualiser la serialisation","date":"2022-02-28","keywords":["SpringBoot","API","JSON","Jackson","Filter"],"image":"/static/images/post/tyler-nix-WVl1N2C2zEA-unsplash.jpg","summary":"À chaque fois que j’ai développé une API, je me suis confronté au même problème : comment filtrer les données","readingTime":4}},"__N_SSG":true}