<!DOCTYPE html><html class="has-navbar-fixed-top"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta name="title" content="Site personnel de Philippe Gibert"/><meta name="description" content="Développeur Web depuis plus de 10 ans, j&#x27;ai une bonne connaissance des techniques back-end et front-end. J&#x27;aime faire une veille constante sur l&#x27;ecosysteme web et découvrir de nouvelles technologies. Passionné d&#x27;internet, de jeux de sociétés et de tout ce qui tourne autour de l&#x27;univers geek et high tech, je vous fais partager mes passions à travers mon blog."/><title>Giboow, Philippe Gibert, Développeur Web FullStack, Rennes, Bretagne</title><meta name="next-head-count" content="5"/><link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css"/><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/prism-themes/1.9.0/prism-dracula.min.css"/><link rel="shortcut icon" href="/static/images/icons/favicon.ico"/><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin /><link rel="preload" href="/_next/static/css/7070765780599759.css" as="style"/><link rel="stylesheet" href="/_next/static/css/7070765780599759.css" data-n-g=""/><link rel="preload" href="/_next/static/css/b65e09cf7c870163.css" as="style"/><link rel="stylesheet" href="/_next/static/css/b65e09cf7c870163.css" data-n-p=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/_next/static/chunks/webpack-cb7634a8b6194820.js" defer=""></script><script src="/_next/static/chunks/framework-5f4595e5518b5600.js" defer=""></script><script src="/_next/static/chunks/main-01df828e572375b9.js" defer=""></script><script src="/_next/static/chunks/pages/_app-30cffe79720cc685.js" defer=""></script><script src="/_next/static/chunks/a9a7754c-05c682ba86311bbe.js" defer=""></script><script src="/_next/static/chunks/75fc9c18-c2ffd8d428a8879e.js" defer=""></script><script src="/_next/static/chunks/543-f2ed9e3420d49453.js" defer=""></script><script src="/_next/static/chunks/890-ac39a76621f37c4f.js" defer=""></script><script src="/_next/static/chunks/pages/index-1dcae07926325524.js" defer=""></script><script src="/_next/static/1648222878596/_buildManifest.js" defer=""></script><script src="/_next/static/1648222878596/_ssgManifest.js" defer=""></script><script src="/_next/static/1648222878596/_middlewareManifest.js" defer=""></script><style data-href="https://fonts.googleapis.com/css?family=Roboto">@font-face{font-family:'Roboto';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOmCnqEu92Fr1Mu4mxM.woff) format('woff')}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOmCnqEu92Fr1Mu72xKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0460-052F,U+1C80-1C88,U+20B4,U+2DE0-2DFF,U+A640-A69F,U+FE2E-FE2F}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOmCnqEu92Fr1Mu5mxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0400-045F,U+0490-0491,U+04B0-04B1,U+2116}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOmCnqEu92Fr1Mu7mxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+1F00-1FFF}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOmCnqEu92Fr1Mu4WxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0370-03FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOmCnqEu92Fr1Mu7WxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0102-0103,U+0110-0111,U+0128-0129,U+0168-0169,U+01A0-01A1,U+01AF-01B0,U+1EA0-1EF9,U+20AB}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOmCnqEu92Fr1Mu7GxKKTU1Kvnz.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Roboto';font-style:normal;font-weight:400;src:url(https://fonts.gstatic.com/s/roboto/v29/KFOmCnqEu92Fr1Mu4mxKKTU1Kg.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}</style></head><body class="custom_class"><div id="__next" data-reactroot=""><div><div><nav class="navbar is-boxed is-fixed-top"><div class="navbar-brand"><a class="navbar-item " style="font-family:Roboto;font-weight:bold;font-size:1.5em;color:cadetblue" href="/">GiBoOw</a><div class="navbar-burger burger"><span></span><span></span><span></span></div></div><div class="navbar-start"><a class="navbar-item is-tab is-hidden-mobile is-active" href="/">Accueil</a><a class="navbar-item is-tab is-hidden-mobile" href="/posts">Posts</a><a class="navbar-item is-tab is-hidden-mobile" href="/a-propos">A propos</a></div><div class="navbar-end navbar-menu"><a class="navbar-item is-tab is-hidden-tablet is-active" href="/">Accueil</a><a class="navbar-item is-tab is-hidden-tablet" href="/posts">Posts</a><a class="navbar-item is-tab is-hidden-tablet" href="/a-propos">A propos</a></div></nav></div><section class="hero is-medium has-text-centered is-primary"><div class="hero-body"><div class="container"><h1 class="title is-1">Philippe Gibert</h1><div class="subtitle is-3">Développeur FullStack</div></div></div></section><section class="jsx-6b33a36520deb53e section is-fullheight"><div class="jsx-6b33a36520deb53e container"><h2 class="jsx-6b33a36520deb53e title is-2">Derniers posts</h2><div class="jsx-6b33a36520deb53e columns is-multiline"><div class="jsx-6b33a36520deb53e column is-12"><article><a href="/posts/postgresql-optim-requete-geoloc"><section class="hero is-secondary hero-background has-background is-blogpost"><img class="hero-background is-transparent" src="/static/images/post/postgres-geoloc-optim.png"/><div class="hero-body"><div class="container"><div class="title">PostgreSQL - Comment booster ses recherches de point géolocalisé</div><div class="metadata"><div class="image is-24x24 is-pulled-left mr-2"><img src="https://github.com/giboow.png?size=28" class="is-rounded" alt="author"/></div><time class="is-left" dateTime="2022-03-24T00:00:00Z">24 mars 2022</time></div></div></div></section></a><div class="post-item_post__bnn2s content mt-4"><p>Récemment j’ai voulu créer une petite application mobile qui permet de rechercher les boîtes aux lettres qui sont autour de la géolocalisation utilisateur. D’autres apps existent, mais leurs performances n’étaient pas vraiment au rendez-vous, alors j’ai voulu tenter de trouver des solutions!</p>
<p>Pour commencer, j’ai réussi à récupérer un jeu de donnée sur le site <a href="http://data.gouv.fr/">data.gouv.fr</a> : <a href="https://www.data.gouv.fr/fr/datasets/liste-des-boites-aux-lettres-de-rue-france-metropolitaine-et-dom-avec-heure-limite-de-depot-1/">https://www.data.gouv.fr/fr/datasets/liste-des-boites-aux-lettres-de-rue-france-metropolitaine-et-dom-avec-heure-limite-de-depot-1/</a> . Ce jeu de données comporte 140 000 entrées, bien sûr l’utilisateur qui va vouloir afficher les boîtes aux lettres proches de lui, n’aura pas besoin d’afficher toutes les boîtes disponibles dans la base de données, mais seulement celles proches de lui, par exemple 10km.</p>
<p>Pour mon projet j’utilise une API SpringBoot, mais ce n’est pas ce qui va vous intéresser aujourd’hui. Le vrai problème c’est comment récupérer l’ensemble des données, stockées dans une base de données PostgreSQL, qui sont géolocalisées proche d’un point dans un temps convenable!</p>
<h2>L’objectif</h2>
<p>Mon objectif est donc de trouver un ensemble de points qui se trouvent dans un rayon de 10km, en un temps record!</p>
<p><img src="/static/images/post/postgres-geoloc-optim.png" alt="Objectif de la requete"></p>
<h2>PostGIS à la rescousse</h2>
<p>PostGIS est une extension de PostgreSQL, elle permet d’offrir de nouvelle fonction et des types de données qui facilitent les recherches géolocalisées.</p>
<p>Pour installer PostGIS sur son serveur :</p>
<div class="remark-highlight"><pre class="language-bash"><code class="language-bash">~$ <span class="token function">sudo</span> <span class="token function">apt</span> <span class="token function">install</span> postgis
</code></pre></div>
<p>Il faut ensuite l’activer dans PosgresSQL, en se connectant à la base de données et en ajoutant l’extension <strong>postgis</strong>. Elle sera donc active uniquement dans la base de données sélectionnée.</p>
<div class="remark-highlight"><pre class="language-sql"><code class="language-sql">psql <span class="token punctuation">(</span><span class="token number">13.6</span> <span class="token punctuation">(</span>Ubuntu <span class="token number">13.6</span><span class="token operator">-</span><span class="token number">0</span>ubuntu0<span class="token punctuation">.</span><span class="token number">21.10</span><span class="token number">.1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">Type</span> <span class="token string">"help"</span> <span class="token keyword">for</span> help<span class="token punctuation">.</span>

postgres<span class="token operator">=</span><span class="token comment"># \c test;</span>
postgres<span class="token operator">=</span><span class="token comment"># CREATE EXTENSION postgis;</span>
</code></pre></div>
<p>Nous pouvons maintenant créer une table qui contient un id, une latitude, une longitude ainsi qu’un point GPS.  La valeur du SRID <strong>4326</strong>  permet de déclarer un point utilisant le système de référence spatiale géographique.</p>
<div class="remark-highlight"><pre class="language-sql"><code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token keyword">public</span><span class="token punctuation">.</span>test <span class="token punctuation">(</span>
    id bigserial <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    lat <span class="token keyword">real</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    long <span class="token keyword">real</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span><span class="token punctuation">,</span>
    location geography<span class="token punctuation">(</span><span class="token keyword">Point</span><span class="token punctuation">,</span> <span class="token number">4326</span><span class="token punctuation">)</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div>
<p>On peut alors facilement ajouter un point en utilisant la requête suivante :</p>
<div class="remark-highlight"><pre class="language-sql"><code class="language-sql"><span class="token keyword">INSERT</span> <span class="token keyword">INTO</span> test <span class="token punctuation">(</span>lat<span class="token punctuation">,</span> long<span class="token punctuation">,</span> location<span class="token punctuation">)</span>
<span class="token keyword">VALUES</span> <span class="token punctuation">(</span><span class="token number">49.548462</span><span class="token punctuation">,</span><span class="token number">1.0779799</span><span class="token punctuation">,</span>ST_SetSRID<span class="token punctuation">(</span>ST_MakePoint<span class="token punctuation">(</span><span class="token number">49.548462</span><span class="token punctuation">,</span><span class="token number">1.0779799</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">4326</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div>
<h2>Optimisation</h2>
<p>Pour valider mon optimisation, j’ai ajouté à ma table 140 000 lignes de données géolocalisées.</p>
<p>Bêtement j’ai voulu rechercher tous les points qui se trouvaient dans un rayon de moins de 10km avec la fonction <strong>st_distancesphere</strong>.</p>
<p>Voici la requête que j’exécute pour récupérer tous les points GPS dans un rayon de 10km :</p>
<div class="remark-highlight"><pre class="language-sql"><code class="language-sql"><span class="token keyword">EXPLAIN</span><span class="token punctuation">(</span>ANALYSE <span class="token punctuation">,</span> BUFFERS <span class="token punctuation">)</span>
<span class="token keyword">SELECT</span> st_distancesphere<span class="token punctuation">(</span>t<span class="token punctuation">.</span>location::<span class="token keyword">geometry</span><span class="token punctuation">,</span>ST_SetSRID<span class="token punctuation">(</span>ST_MakePoint<span class="token punctuation">(</span><span class="token number">49.548462</span><span class="token punctuation">,</span><span class="token number">1.0779799</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">4326</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">FROM</span> test t
<span class="token keyword">WHERE</span>
st_distancesphere<span class="token punctuation">(</span>t<span class="token punctuation">.</span>location::<span class="token keyword">geometry</span><span class="token punctuation">,</span>ST_SetSRID<span class="token punctuation">(</span>ST_MakePoint<span class="token punctuation">(</span><span class="token number">49.548462</span><span class="token punctuation">,</span><span class="token number">1.0779799</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">4326</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&#x3C;</span> <span class="token number">10000</span><span class="token punctuation">;</span>
</code></pre></div>
<p>L’analyser de requête de PostgeSQL montre bien qu’aucun index n’est utilisé et que la requête prend 463ms pour renvoyer 21 points qui correspondes aux conditions.</p>
<div class="remark-highlight"><pre class="language-sql"><code class="language-sql">Gather  <span class="token punctuation">(</span>cost<span class="token operator">=</span><span class="token number">1000.00</span><span class="token punctuation">.</span><span class="token number">.2776968</span><span class="token number">.00</span> <span class="token keyword">rows</span><span class="token operator">=</span><span class="token number">47062</span> width<span class="token operator">=</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>actual <span class="token keyword">time</span><span class="token operator">=</span><span class="token number">160.851</span><span class="token punctuation">.</span><span class="token number">.461</span><span class="token number">.391</span> <span class="token keyword">rows</span><span class="token operator">=</span><span class="token number">115</span> loops<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
  Workers Planned: <span class="token number">1</span>
  Workers Launched: <span class="token number">1</span>
  Buffers: shared hit<span class="token operator">=</span><span class="token number">1759</span>
  <span class="token operator">-</span><span class="token operator">></span>  Parallel Seq Scan <span class="token keyword">on</span> test t  <span class="token punctuation">(</span>cost<span class="token operator">=</span><span class="token number">0.00</span><span class="token punctuation">.</span><span class="token number">.2771261</span><span class="token number">.80</span> <span class="token keyword">rows</span><span class="token operator">=</span><span class="token number">27684</span> width<span class="token operator">=</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>actual <span class="token keyword">time</span><span class="token operator">=</span><span class="token number">218.887</span><span class="token punctuation">.</span><span class="token number">.415</span><span class="token number">.046</span> <span class="token keyword">rows</span><span class="token operator">=</span><span class="token number">58</span> loops<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">)</span>
<span class="token string">"        Filter: (st_distance(geography((location)::geometry), '0101000020E6100000A48CB80034C64840F5EC03DA673FF13F'::geography, false) &#x3C; '10000'::double precision)"</span>
        <span class="token keyword">Rows</span> Removed <span class="token keyword">by</span> Filter: <span class="token number">70535</span>
        Buffers: shared hit<span class="token operator">=</span><span class="token number">1759</span>
Planning <span class="token keyword">Time</span>: <span class="token number">0.376</span> ms
JIT:
  Functions: <span class="token number">8</span>
<span class="token string">"  Options: Inlining true, Optimization true, Expressions true, Deforming true"</span>
<span class="token string">"  Timing: Generation 2.485 ms, Inlining 178.841 ms, Optimization 117.797 ms, Emission 56.983 ms, Total 356.106 ms"</span>
Execution <span class="token keyword">Time</span>: <span class="token number">463.431</span> ms
</code></pre></div>
<p>Nous allons donc créer un index qui va permettre d’accélérer la requête (voir  la doc <a href="http://postgis.net/workshops/postgis-intro/indexing.html">http://postgis.net/workshops/postgis-intro/indexing.html</a>):</p>
<div class="remark-highlight"><pre class="language-sql"><code class="language-sql"><span class="token keyword">CREATE</span> <span class="token keyword">INDEX</span> test_position_geography_index <span class="token keyword">ON</span> test <span class="token keyword">USING</span> GIST<span class="token punctuation">(</span>geography<span class="token punctuation">(</span>location<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div>
<p>Mais nous allons avoir une mauvaise surprise, car l’index ne fonctionne toujours pas. Après une recherche rapide, je me suis aperçu qu’il n’y a que certaines fonctions de PostGIS qui peuvent utiliser l’indexation (voir la doc ici : <a href="http://postgis.net/workshops/postgis-intro/indexing.html#spatially-indexed-functions">http://postgis.net/workshops/postgis-intro/indexing.html#spatially-indexed-functions</a>).</p>
<p>Je décide donc d’utiliser la fonction ST_DWithin qui renvoie un vrai si deux points se trouvent bien à la distance passée dans le 3e paramètre.</p>
<p>Voici donc la requête suivie de l’analyse :</p>
<div class="remark-highlight"><pre class="language-sql"><code class="language-sql"><span class="token keyword">EXPLAIN</span><span class="token punctuation">(</span>ANALYSE <span class="token punctuation">,</span> BUFFERS <span class="token punctuation">)</span>
<span class="token keyword">SELECT</span> st_distancesphere<span class="token punctuation">(</span>t<span class="token punctuation">.</span>location::<span class="token keyword">geometry</span><span class="token punctuation">,</span>ST_SetSRID<span class="token punctuation">(</span>ST_MakePoint<span class="token punctuation">(</span><span class="token number">49.548462</span><span class="token punctuation">,</span><span class="token number">1.0779799</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">4326</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
<span class="token keyword">FROM</span> test t
<span class="token keyword">WHERE</span>
   ST_DWithin<span class="token punctuation">(</span>t<span class="token punctuation">.</span>location<span class="token punctuation">,</span> ST_SetSRID<span class="token punctuation">(</span>ST_MakePoint<span class="token punctuation">(</span><span class="token number">49.548462</span><span class="token punctuation">,</span><span class="token number">1.0779799</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token number">4326</span><span class="token punctuation">)</span>::geography<span class="token punctuation">,</span> <span class="token number">10000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div>
<div class="remark-highlight"><pre class="language-sql"><code class="language-sql">Bitmap Heap Scan <span class="token keyword">on</span> test t  <span class="token punctuation">(</span>cost<span class="token operator">=</span><span class="token number">4.95</span><span class="token punctuation">.</span><span class="token number">.2390</span><span class="token number">.34</span> <span class="token keyword">rows</span><span class="token operator">=</span><span class="token number">14</span> width<span class="token operator">=</span><span class="token number">8</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>actual <span class="token keyword">time</span><span class="token operator">=</span><span class="token number">1.212</span><span class="token punctuation">.</span><span class="token number">.2</span><span class="token number">.205</span> <span class="token keyword">rows</span><span class="token operator">=</span><span class="token number">115</span> loops<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token string">"  Filter: st_dwithin(location, '0101000020E6100000A48CB80034C64840F5EC03DA673FF13F'::geography, '10000'::double precision, true)"</span>
  <span class="token keyword">Rows</span> Removed <span class="token keyword">by</span> Filter: <span class="token number">200</span>
  Heap Blocks: exact<span class="token operator">=</span><span class="token number">150</span>
  Buffers: shared hit<span class="token operator">=</span><span class="token number">188</span>
  <span class="token operator">-</span><span class="token operator">></span>  Bitmap <span class="token keyword">Index</span> Scan <span class="token keyword">on</span> test_position_geography_index  <span class="token punctuation">(</span>cost<span class="token operator">=</span><span class="token number">0.00</span><span class="token punctuation">.</span><span class="token number">.4</span><span class="token number">.95</span> <span class="token keyword">rows</span><span class="token operator">=</span><span class="token number">72</span> width<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">(</span>actual <span class="token keyword">time</span><span class="token operator">=</span><span class="token number">0.288</span><span class="token punctuation">.</span><span class="token number">.0</span><span class="token number">.288</span> <span class="token keyword">rows</span><span class="token operator">=</span><span class="token number">315</span> loops<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token string">"        Index Cond: (location &#x26;&#x26; _st_expand('0101000020E6100000A48CB80034C64840F5EC03DA673FF13F'::geography, '10000'::double precision))"</span>
        Buffers: shared hit<span class="token operator">=</span><span class="token number">26</span>
Planning <span class="token keyword">Time</span>: <span class="token number">0.446</span> ms
Execution <span class="token keyword">Time</span>: <span class="token number">2.288</span> ms
</code></pre></div>
<p>On voit bien que l’index <strong>test_position_geography_index</strong> est utilisé et qu’il permet de récupérer les 21 points en <strong>2.288ms</strong> 🤯. ****Le gain est énorme, il permet de réduire considérablement le temps d’exécution et le temps d’utilisation processeur.</p>
<h2>Bilan</h2>
<p>Dans mon API de géolocalisation de boîtes aux lettres, cela m’a permis de diviser par 10 le temps de requête et de soulager le serveur lorsque je simulais une charge serveur avec l’outil de tests de performance d’Apache <strong>ab</strong> (<a href="https://httpd.apache.org/docs/2.4/fr/programs/ab.html">https://httpd.apache.org/docs/2.4/fr/programs/ab.html</a>).</p>
</div></article><hr class="jsx-6b33a36520deb53e"/></div><div class="jsx-6b33a36520deb53e column is-12"><article><a href="/posts/springboot-contrextualiser-la-serialization"><section class="hero is-secondary hero-background has-background is-blogpost"><img class="hero-background is-transparent" src="/static/images/post/tyler-nix-WVl1N2C2zEA-unsplash.jpg"/><div class="hero-body"><div class="container"><div class="title">SpringBoot -  Contextualiser la serialisation</div><div class="metadata"><div class="image is-24x24 is-pulled-left mr-2"><img src="https://github.com/giboow.png?size=28" class="is-rounded" alt="author"/></div><time class="is-left" dateTime="2022-02-28T00:00:00Z">28 février 2022</time></div></div></div></section></a><div class="post-item_post__bnn2s content mt-4"><p>À chaque fois que j’ai développé une API, je me suis confronté au même problème : comment filtrer les données en fonction de mes appels API.</p>
<p>En effet, certains appels qui sont disponibles par exemple pour appel “utilisateur” ne rendront pas les mêmes données qu’un appel disponible pour un “administrateur”.</p>
<h1>Le projet</h1>
<p>Pour commencer, nous allons construire une API REST pour la gestion des véhicules, nous aurons donc un objet “<strong>Vehicle”</strong> qui sera constitué de la façon suivante :</p>
<ul>
<li>Id: Long</li>
<li>brand: String ⇒ La marque, par exemple (Renault)</li>
<li>model: String ⇒ Le model, par exemple (Megane)</li>
<li>registrationPlate: String  ⇒ La plaque d’immatriculation de la voiture, par exemple (SP-800-TT)</li>
<li>Serial number : String ⇒ Le numéro de série du véhicule</li>
</ul>
<p>Ces données pourront être lues par n’importe quel utilisateur. Nous définirons en plus des données dont l’utilisateur n’a pas besoin, mais que l’administrateur peut consulter :</p>
<ul>
<li>CreatedAt : LocalDatetime ⇒ Date de création de l’objet en base de données</li>
<li>UpdatedAt : LocalDatetime ⇒ Date de modification de l’objet en base de données</li>
</ul>
<p>Pour gagner du temps lors de mes développements, je définis une Class abstraite qui me sert de base a l’ensemble de mes entités :</p>
<div class="remark-highlight"><pre class="language-java"><code class="language-java"><span class="token annotation punctuation">@MappedSuperclass</span>
<span class="token annotation punctuation">@Data</span>
<span class="token annotation punctuation">@SuperBuilder</span>
<span class="token annotation punctuation">@NoArgsConstructor</span>
<span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">EntityAbstract</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Id</span>
    <span class="token annotation punctuation">@GeneratedValue</span><span class="token punctuation">(</span>strategy <span class="token operator">=</span> <span class="token class-name">GenerationType</span><span class="token punctuation">.</span>IDENTITY<span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">Long</span> id<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@CreatedDate</span>
    <span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>nullable <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span> columnDefinition <span class="token operator">=</span> <span class="token string">"timestamp default now()"</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@JsonProperty</span><span class="token punctuation">(</span>access <span class="token operator">=</span> <span class="token class-name">JsonProperty<span class="token punctuation">.</span>Access</span><span class="token punctuation">.</span>READ_ONLY<span class="token punctuation">)</span>
    <span class="token annotation punctuation">@JsonFormat</span><span class="token punctuation">(</span>shape<span class="token operator">=</span><span class="token class-name">JsonFormat<span class="token punctuation">.</span>Shape</span><span class="token punctuation">.</span>STRING<span class="token punctuation">,</span> pattern<span class="token operator">=</span><span class="token string">"yyyy-MM-dd'T'HH:mm:ss'Z'"</span><span class="token punctuation">,</span> timezone<span class="token operator">=</span><span class="token string">"UTC"</span><span class="token punctuation">)</span>
    <span class="token class-name">LocalDateTime</span> createdAt<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@LastModifiedDate</span>
    <span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>nullable <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span> columnDefinition <span class="token operator">=</span> <span class="token string">"timestamp default now()"</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@JsonProperty</span><span class="token punctuation">(</span>access <span class="token operator">=</span> <span class="token class-name">JsonProperty<span class="token punctuation">.</span>Access</span><span class="token punctuation">.</span>READ_ONLY<span class="token punctuation">)</span>
    <span class="token annotation punctuation">@JsonFormat</span><span class="token punctuation">(</span>shape<span class="token operator">=</span><span class="token class-name">JsonFormat<span class="token punctuation">.</span>Shape</span><span class="token punctuation">.</span>STRING<span class="token punctuation">,</span> pattern<span class="token operator">=</span><span class="token string">"yyyy-MM-dd'T'HH:mm:ss'Z'"</span><span class="token punctuation">,</span> timezone<span class="token operator">=</span><span class="token string">"UTC"</span><span class="token punctuation">)</span>
    <span class="token class-name">LocalDateTime</span> updatedAt<span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre></div>
<p>Puis je définis ma classe Vehicle :</p>
<div class="remark-highlight"><pre class="language-java"><code class="language-java"><span class="token annotation punctuation">@Entity</span>
<span class="token annotation punctuation">@Data</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Vehicle</span> <span class="token keyword">extends</span> <span class="token class-name">EntityAbstract</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@NotEmpty</span>
    <span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>nullable <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
    <span class="token class-name">String</span> registrationPlate<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@NotEmpty</span>
    <span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>nullable <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
    <span class="token class-name">String</span> model<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@NotEmpty</span>
    <span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>nullable <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
    <span class="token class-name">String</span> brand<span class="token punctuation">;</span>

		<span class="token annotation punctuation">@NotEmpty</span>
    <span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>nullable <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
    <span class="token class-name">String</span> serialNumber<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div>
<p>Enfin nous définirons un Controller qui permettra d’accéder aux données à l’aide d’un service de récupération des données avec une route utilisateur ainsi qu’une route Admin :</p>
<div class="remark-highlight"><pre class="language-java"><code class="language-java"><span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">VehicleController</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">VehicleService</span> vehicleService<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/vehicle/list"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&#x3C;</span><span class="token class-name">Vehicle</span><span class="token punctuation">></span></span> <span class="token function">listVehicles</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> vehicleService<span class="token punctuation">.</span><span class="token function">listVehicles</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/admin/vehicle/list"</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&#x3C;</span><span class="token class-name">Vehicle</span><span class="token punctuation">></span></span> <span class="token function">adminListVehicles</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> vehicleService<span class="token punctuation">.</span><span class="token function">listVehicles</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>
<p>Pour le moment, le rendu des données est exactement le même, mais nous allons voir par la suite comment “filter” les données.</p>
<h1>Jackson à la rescousse!</h1>
<p>Pour filtrer les données, nous allons utiliser une fonctionnalité de la librairie Jackson, les JsonView!</p>
<p>Nous devons définir une classe contenant des interfaces qui correspondent aux niveau des filtres de notre API :</p>
<div class="remark-highlight"><pre class="language-java"><code class="language-java"><span class="token doc-comment comment">/**</span>
<span class="token doc-comment comment"> * Json view filter</span>
<span class="token doc-comment comment"> */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JsonViews</span> <span class="token punctuation">{</span>
	  <span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Create</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Update</span> <span class="token keyword">extends</span> <span class="token class-name">Create</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Summary</span> <span class="token keyword">extends</span> <span class="token class-name">Update</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Admin</span> <span class="token keyword">extends</span> <span class="token class-name">Summary</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>
<p>Le niveau “<strong>Create”</strong> correspond aux attributs visibles pour la création d’un objet, “<strong>Update”</strong> étend du filtre précédent et permettra de filtrer uniquement les attributs qui peuvent être mis à jour. <strong>“Summary”,</strong> étend des propriété de <strong>“Create”</strong> et <strong>”Update”.</strong> Enfin “<strong>Admin”</strong> permet de visualiser ou de mettre à jour des attributs uniquement accessibles aux Administrateurs.</p>
<p>Cette fonctionnalité sert non seulement au rendu d’un JSON, que lorsque l’API consomme le Body d’une requête.</p>
<p>Nous allons mettre à jour l’entité pour que les attributs soient filtrés correctement par l’API :</p>
<div class="remark-highlight"><pre class="language-java"><code class="language-java"><span class="token annotation punctuation">@MappedSuperclass</span>
<span class="token annotation punctuation">@Data</span>
<span class="token annotation punctuation">@SuperBuilder</span>
<span class="token annotation punctuation">@NoArgsConstructor</span>
<span class="token keyword">public</span> <span class="token keyword">abstract</span> <span class="token keyword">class</span> <span class="token class-name">EntityAbstract</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Id</span>
    <span class="token annotation punctuation">@GeneratedValue</span><span class="token punctuation">(</span>strategy<span class="token operator">=</span><span class="token class-name">GenerationType</span><span class="token punctuation">.</span>AUTO<span class="token punctuation">)</span>
    <span class="token annotation punctuation">@JsonView</span><span class="token punctuation">(</span><span class="token class-name">JsonViews<span class="token punctuation">.</span>Update</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> id<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@CreatedDate</span>
    <span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>nullable <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span> columnDefinition <span class="token operator">=</span> <span class="token string">"timestamp default CURRENT_TIMESTAMP"</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@JsonProperty</span><span class="token punctuation">(</span>access <span class="token operator">=</span> <span class="token class-name">JsonProperty<span class="token punctuation">.</span>Access</span><span class="token punctuation">.</span>READ_ONLY<span class="token punctuation">)</span>
    <span class="token annotation punctuation">@JsonFormat</span><span class="token punctuation">(</span>shape<span class="token operator">=</span><span class="token class-name">JsonFormat<span class="token punctuation">.</span>Shape</span><span class="token punctuation">.</span>STRING<span class="token punctuation">,</span> pattern<span class="token operator">=</span><span class="token string">"yyyy-MM-dd'T'HH:mm:ss'Z'"</span><span class="token punctuation">,</span> timezone<span class="token operator">=</span><span class="token string">"UTC"</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@JsonView</span><span class="token punctuation">(</span><span class="token class-name">JsonViews<span class="token punctuation">.</span>Admin</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
    <span class="token class-name">LocalDateTime</span> createdAt<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@LastModifiedDate</span>
    <span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>nullable <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span> columnDefinition <span class="token operator">=</span> <span class="token string">"timestamp default CURRENT_TIMESTAMP"</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@JsonProperty</span><span class="token punctuation">(</span>access <span class="token operator">=</span> <span class="token class-name">JsonProperty<span class="token punctuation">.</span>Access</span><span class="token punctuation">.</span>READ_ONLY<span class="token punctuation">)</span>
    <span class="token annotation punctuation">@JsonFormat</span><span class="token punctuation">(</span>shape<span class="token operator">=</span><span class="token class-name">JsonFormat<span class="token punctuation">.</span>Shape</span><span class="token punctuation">.</span>STRING<span class="token punctuation">,</span> pattern<span class="token operator">=</span><span class="token string">"yyyy-MM-dd'T'HH:mm:ss'Z'"</span><span class="token punctuation">,</span> timezone<span class="token operator">=</span><span class="token string">"UTC"</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@JsonView</span><span class="token punctuation">(</span><span class="token class-name">JsonViews<span class="token punctuation">.</span>Admin</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
    <span class="token class-name">LocalDateTime</span> updatedAt<span class="token punctuation">;</span>

<span class="token punctuation">}</span>
</code></pre></div>
<div class="remark-highlight"><pre class="language-java"><code class="language-java"><span class="token annotation punctuation">@Entity</span>
<span class="token annotation punctuation">@Data</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Vehicle</span> <span class="token keyword">extends</span> <span class="token class-name">EntityAbstract</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@NotEmpty</span>
    <span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>nullable <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@JsonView</span><span class="token punctuation">(</span><span class="token class-name">JsonViews<span class="token punctuation">.</span>Create</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
    <span class="token class-name">String</span> registrationPlate<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@NotEmpty</span>
    <span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>nullable <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@JsonView</span><span class="token punctuation">(</span><span class="token class-name">JsonViews<span class="token punctuation">.</span>Create</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
    <span class="token class-name">String</span> model<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@NotEmpty</span>
    <span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>nullable <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@JsonView</span><span class="token punctuation">(</span><span class="token class-name">JsonViews<span class="token punctuation">.</span>Create</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
    <span class="token class-name">String</span> brand<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@NotEmpty</span>
    <span class="token annotation punctuation">@Column</span><span class="token punctuation">(</span>nullable <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@JsonView</span><span class="token punctuation">(</span><span class="token class-name">JsonViews<span class="token punctuation">.</span>Create</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
    <span class="token class-name">String</span> serialNumber<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div>
<p>Enfin nous pouvons l’utiliser dans le controller :</p>
<div class="remark-highlight"><pre class="language-java"><code class="language-java"><span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">VehicleController</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">VehicleService</span> vehicleService<span class="token punctuation">;</span>

		<span class="token doc-comment comment">/**</span>
<span class="token doc-comment comment">     * List véhicles</span>
<span class="token doc-comment comment">     */</span>
    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/vehicle/list"</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@JsonView</span><span class="token punctuation">(</span><span class="token class-name">JsonViews<span class="token punctuation">.</span>Summary</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&#x3C;</span><span class="token class-name">Vehicle</span><span class="token punctuation">></span></span> <span class="token function">listVehicles</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> vehicleService<span class="token punctuation">.</span><span class="token function">listVehicles</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

		<span class="token doc-comment comment">/**</span>
<span class="token doc-comment comment">     * List vehicles (Admin)</span>
<span class="token doc-comment comment">     */</span>
    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">"/admin/vehicle/list"</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@JsonView</span><span class="token punctuation">(</span><span class="token class-name">JsonViews<span class="token punctuation">.</span>Summary</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&#x3C;</span><span class="token class-name">Vehicle</span><span class="token punctuation">></span></span> <span class="token function">adminListVehicles</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> vehicleService<span class="token punctuation">.</span><span class="token function">listVehicles</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

		<span class="token doc-comment comment">/**</span>
<span class="token doc-comment comment">     * Create vehicle (Admin)</span>
<span class="token doc-comment comment">     */</span>
    <span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">"/admin/vehicle"</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@JsonView</span><span class="token punctuation">(</span><span class="token class-name">JsonViews<span class="token punctuation">.</span>Admin</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Vehicle</span> <span class="token function">postAdminVehicle</span><span class="token punctuation">(</span><span class="token annotation punctuation">@JsonView</span><span class="token punctuation">(</span><span class="token class-name">JsonViews<span class="token punctuation">.</span>Create</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span> <span class="token class-name">Vehicle</span> vehicle<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> vehicleService<span class="token punctuation">.</span><span class="token function">createVehicle</span><span class="token punctuation">(</span>vehicle<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

		<span class="token doc-comment comment">/**</span>
<span class="token doc-comment comment">     * Update vehicle (Admin)</span>
<span class="token doc-comment comment">     */</span>
    <span class="token annotation punctuation">@PutMapping</span><span class="token punctuation">(</span><span class="token string">"/admin/vehicle"</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@JsonView</span><span class="token punctuation">(</span><span class="token class-name">JsonViews<span class="token punctuation">.</span>Admin</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Vehicle</span> <span class="token function">putAdminVehicle</span><span class="token punctuation">(</span><span class="token annotation punctuation">@JsonView</span><span class="token punctuation">(</span><span class="token class-name">JsonViews<span class="token punctuation">.</span>Update</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span> <span class="token class-name">Vehicle</span> vehicle<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> vehicleService<span class="token punctuation">.</span><span class="token function">updateVehicle</span><span class="token punctuation">(</span>vehicle<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div>
<h1>Résultat</h1>
<h2>Liste des véhicules (Vue utilisateur)</h2>
<div class="remark-highlight"><pre class="language-bash"><code class="language-bash">~ <span class="token function">curl</span> http://localhost:8080/vehicle/list
<span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">"id"</span>:1,<span class="token string">"registrationPlate"</span><span class="token builtin class-name">:</span><span class="token string">"AA-205-AA"</span>,<span class="token string">"model"</span><span class="token builtin class-name">:</span><span class="token string">"205"</span>,<span class="token string">"brand"</span><span class="token builtin class-name">:</span><span class="token string">"PEUGEOT"</span>,<span class="token string">"serialNumber"</span><span class="token builtin class-name">:</span><span class="token string">"3KX9YLH2K980HNYYS1YZ"</span><span class="token punctuation">}</span>,<span class="token punctuation">{</span><span class="token string">"id"</span>:2,<span class="token string">"registrationPlate"</span><span class="token builtin class-name">:</span><span class="token string">"AA-206-AA"</span>,<span class="token string">"model"</span><span class="token builtin class-name">:</span><span class="token string">"206"</span>,<span class="token string">"brand"</span><span class="token builtin class-name">:</span><span class="token string">"PEUGEOT"</span>,<span class="token string">"serialNumber"</span><span class="token builtin class-name">:</span><span class="token string">"VST52ASAH145TIZGJ3LC"</span><span class="token punctuation">}</span>,<span class="token punctuation">{</span><span class="token string">"id"</span>:3,<span class="token string">"registrationPlate"</span><span class="token builtin class-name">:</span><span class="token string">"AA-207-AA"</span>,<span class="token string">"model"</span><span class="token builtin class-name">:</span><span class="token string">"207"</span>,<span class="token string">"brand"</span><span class="token builtin class-name">:</span><span class="token string">"PEUGEOT"</span>,<span class="token string">"serialNumber"</span><span class="token builtin class-name">:</span><span class="token string">"JI0BNW8D1HYGPFAECEPJ"</span><span class="token punctuation">}</span>,<span class="token punctuation">{</span><span class="token string">"id"</span>:4,<span class="token string">"registrationPlate"</span><span class="token builtin class-name">:</span><span class="token string">"AA-208-AA"</span>,<span class="token string">"model"</span><span class="token builtin class-name">:</span><span class="token string">"208"</span>,<span class="token string">"brand"</span><span class="token builtin class-name">:</span><span class="token string">"PEUGEOT"</span>,<span class="token string">"serialNumber"</span><span class="token builtin class-name">:</span><span class="token string">"LN97FF02UWRJYRAEGFL5"</span><span class="token punctuation">}</span>,<span class="token punctuation">{</span><span class="token string">"id"</span>:5,<span class="token string">"registrationPlate"</span><span class="token builtin class-name">:</span><span class="token string">"AA-106-AA"</span>,<span class="token string">"model"</span><span class="token builtin class-name">:</span><span class="token string">"106"</span>,<span class="token string">"brand"</span><span class="token builtin class-name">:</span><span class="token string">"PEUGEOT"</span>,<span class="token string">"serialNumber"</span><span class="token builtin class-name">:</span><span class="token string">"R94DJ8P5PT7M6PB5DP5B"</span><span class="token punctuation">}</span>,<span class="token punctuation">{</span><span class="token string">"id"</span>:6,<span class="token string">"registrationPlate"</span><span class="token builtin class-name">:</span><span class="token string">"AA-107-AA"</span>,<span class="token string">"model"</span><span class="token builtin class-name">:</span><span class="token string">"107"</span>,<span class="token string">"brand"</span><span class="token builtin class-name">:</span><span class="token string">"PEUGEOT"</span>,<span class="token string">"serialNumber"</span><span class="token builtin class-name">:</span><span class="token string">"OJHHEW2SP2KJDU3CZLFO"</span><span class="token punctuation">}</span>,<span class="token punctuation">{</span><span class="token string">"id"</span>:7,<span class="token string">"registrationPlate"</span><span class="token builtin class-name">:</span><span class="token string">"AA-108-AA"</span>,<span class="token string">"model"</span><span class="token builtin class-name">:</span><span class="token string">"108"</span>,<span class="token string">"brand"</span><span class="token builtin class-name">:</span><span class="token string">"PEUGEOT"</span>,<span class="token string">"serialNumber"</span><span class="token builtin class-name">:</span><span class="token string">"49LUMOTWMOQSNHK09MR3"</span><span class="token punctuation">}</span>,<span class="token punctuation">{</span><span class="token string">"id"</span>:8,<span class="token string">"registrationPlate"</span><span class="token builtin class-name">:</span><span class="token string">"AA-306-AA"</span>,<span class="token string">"model"</span><span class="token builtin class-name">:</span><span class="token string">"306"</span>,<span class="token string">"brand"</span><span class="token builtin class-name">:</span><span class="token string">"PEUGEOT"</span>,<span class="token string">"serialNumber"</span><span class="token builtin class-name">:</span><span class="token string">"0KBBBHVTZN9P66I8TVGT"</span><span class="token punctuation">}</span>,<span class="token punctuation">{</span><span class="token string">"id"</span>:9,<span class="token string">"registrationPlate"</span><span class="token builtin class-name">:</span><span class="token string">"AA-307-AA"</span>,<span class="token string">"model"</span><span class="token builtin class-name">:</span><span class="token string">"307"</span>,<span class="token string">"brand"</span><span class="token builtin class-name">:</span><span class="token string">"PEUGEOT"</span>,<span class="token string">"serialNumber"</span><span class="token builtin class-name">:</span><span class="token string">"TK0GX92MY29AR0H9ZYIB"</span><span class="token punctuation">}</span>,<span class="token punctuation">{</span><span class="token string">"id"</span>:10,<span class="token string">"registrationPlate"</span><span class="token builtin class-name">:</span><span class="token string">"AA-308-AA"</span>,<span class="token string">"model"</span><span class="token builtin class-name">:</span><span class="token string">"308"</span>,<span class="token string">"brand"</span><span class="token builtin class-name">:</span><span class="token string">"PEUGEOT"</span>,<span class="token string">"serialNumber"</span><span class="token builtin class-name">:</span><span class="token string">"EKNPA002KCQXYAUX04AV"</span><span class="token punctuation">}</span>,<span class="token punctuation">{</span><span class="token string">"id"</span>:11,<span class="token string">"registrationPlate"</span><span class="token builtin class-name">:</span><span class="token string">"AA-309-AA"</span>,<span class="token string">"model"</span><span class="token builtin class-name">:</span><span class="token string">"309"</span>,<span class="token string">"brand"</span><span class="token builtin class-name">:</span><span class="token string">"PEUGEOT"</span>,<span class="token string">"serialNumber"</span><span class="token builtin class-name">:</span><span class="token string">"D1788D08RU0AU3O5BVXR"</span><span class="token punctuation">}</span>,<span class="token punctuation">{</span><span class="token string">"id"</span>:12,<span class="token string">"registrationPlate"</span><span class="token builtin class-name">:</span><span class="token string">"AA-405-AA"</span>,<span class="token string">"model"</span><span class="token builtin class-name">:</span><span class="token string">"405"</span>,<span class="token string">"brand"</span><span class="token builtin class-name">:</span><span class="token string">"PEUGEOT"</span>,<span class="token string">"serialNumber"</span><span class="token builtin class-name">:</span><span class="token string">"PHU0M7NKZ799D64VBVJ8"</span><span class="token punctuation">}</span>,<span class="token punctuation">{</span><span class="token string">"id"</span>:13,<span class="token string">"registrationPlate"</span><span class="token builtin class-name">:</span><span class="token string">"AA-406-AA"</span>,<span class="token string">"model"</span><span class="token builtin class-name">:</span><span class="token string">"406"</span>,<span class="token string">"brand"</span><span class="token builtin class-name">:</span><span class="token string">"PEUGEOT"</span>,<span class="token string">"serialNumber"</span><span class="token builtin class-name">:</span><span class="token string">"NAD3F2ULL5TY4QCECLAO"</span><span class="token punctuation">}</span>,<span class="token punctuation">{</span><span class="token string">"id"</span>:14,<span class="token string">"registrationPlate"</span><span class="token builtin class-name">:</span><span class="token string">"AA-407-AA"</span>,<span class="token string">"model"</span><span class="token builtin class-name">:</span><span class="token string">"407"</span>,<span class="token string">"brand"</span><span class="token builtin class-name">:</span><span class="token string">"PEUGEOT"</span>,<span class="token string">"serialNumber"</span><span class="token builtin class-name">:</span><span class="token string">"C842THXCOBFFZ0O5U0YK"</span><span class="token punctuation">}</span>,<span class="token punctuation">{</span><span class="token string">"id"</span>:15,<span class="token string">"registrationPlate"</span><span class="token builtin class-name">:</span><span class="token string">"AA-508-AA"</span>,<span class="token string">"model"</span><span class="token builtin class-name">:</span><span class="token string">"508"</span>,<span class="token string">"brand"</span><span class="token builtin class-name">:</span><span class="token string">"PEUGEOT"</span>,<span class="token string">"serialNumber"</span><span class="token builtin class-name">:</span><span class="token string">"F0T2ELSQ0VPRF1NBY8XH"</span><span class="token punctuation">}</span>,<span class="token punctuation">{</span><span class="token string">"id"</span>:16,<span class="token string">"registrationPlate"</span><span class="token builtin class-name">:</span><span class="token string">"AA-407-AA"</span>,<span class="token string">"model"</span><span class="token builtin class-name">:</span><span class="token string">"407"</span>,<span class="token string">"brand"</span><span class="token builtin class-name">:</span><span class="token string">"PEUGEOT"</span>,<span class="token string">"serialNumber"</span><span class="token builtin class-name">:</span><span class="token string">"WEBVP95ON3HDX0TGPFXB"</span><span class="token punctuation">}</span>,<span class="token punctuation">{</span><span class="token string">"id"</span>:17,<span class="token string">"registrationPlate"</span><span class="token builtin class-name">:</span><span class="token string">"AA-508-AA"</span>,<span class="token string">"model"</span><span class="token builtin class-name">:</span><span class="token string">"508"</span>,<span class="token string">"brand"</span><span class="token builtin class-name">:</span><span class="token string">"PEUGEOT"</span>,<span class="token string">"serialNumber"</span><span class="token builtin class-name">:</span><span class="token string">"TEZ3D70UDBY8UKHRKSYY"</span><span class="token punctuation">}</span>,<span class="token punctuation">{</span><span class="token string">"id"</span>:18,<span class="token string">"registrationPlate"</span><span class="token builtin class-name">:</span><span class="token string">"AA-605-AA"</span>,<span class="token string">"model"</span><span class="token builtin class-name">:</span><span class="token string">"605"</span>,<span class="token string">"brand"</span><span class="token builtin class-name">:</span><span class="token string">"PEUGEOT"</span>,<span class="token string">"serialNumber"</span><span class="token builtin class-name">:</span><span class="token string">"WIGYNFTWH0Q6E85Z2HA2"</span><span class="token punctuation">}</span>,<span class="token punctuation">{</span><span class="token string">"id"</span>:19,<span class="token string">"registrationPlate"</span><span class="token builtin class-name">:</span><span class="token string">"AA-607-AA"</span>,<span class="token string">"model"</span><span class="token builtin class-name">:</span><span class="token string">"607"</span>,<span class="token string">"brand"</span><span class="token builtin class-name">:</span><span class="token string">"PEUGEOT"</span>,<span class="token string">"serialNumber"</span><span class="token builtin class-name">:</span><span class="token string">"OLI3JCTF82WUQK14Z295"</span><span class="token punctuation">}</span><span class="token punctuation">]</span>
</code></pre></div>
<h2>Liste des Véhicules (Vue Admin)</h2>
<div class="remark-highlight"><pre class="language-bash"><code class="language-bash">~ <span class="token function">curl</span> http://localhost:8080/admin/vehicle/list
<span class="token punctuation">[</span><span class="token punctuation">{</span><span class="token string">"id"</span>:1,<span class="token string">"createdAt"</span><span class="token builtin class-name">:</span><span class="token string">"2022-02-28T14:32:13Z"</span>,<span class="token string">"updatedAt"</span><span class="token builtin class-name">:</span><span class="token string">"2022-02-28T14:32:13Z"</span>,<span class="token string">"registrationPlate"</span><span class="token builtin class-name">:</span><span class="token string">"AA-205-AA"</span>,<span class="token string">"model"</span><span class="token builtin class-name">:</span><span class="token string">"205"</span>,<span class="token string">"brand"</span><span class="token builtin class-name">:</span><span class="token string">"PEUGEOT"</span>,<span class="token string">"serialNumber"</span><span class="token builtin class-name">:</span><span class="token string">"3KX9YLH2K980HNYYS1YZ"</span><span class="token punctuation">}</span>,<span class="token punctuation">{</span><span class="token string">"id"</span>:2,<span class="token string">"createdAt"</span><span class="token builtin class-name">:</span><span class="token string">"2022-02-28T14:32:13Z"</span>,<span class="token string">"updatedAt"</span><span class="token builtin class-name">:</span><span class="token string">"2022-02-28T14:32:13Z"</span>,<span class="token string">"registrationPlate"</span><span class="token builtin class-name">:</span><span class="token string">"AA-206-AA"</span>,<span class="token string">"model"</span><span class="token builtin class-name">:</span><span class="token string">"206"</span>,<span class="token string">"brand"</span><span class="token builtin class-name">:</span><span class="token string">"PEUGEOT"</span>,<span class="token string">"serialNumber"</span><span class="token builtin class-name">:</span><span class="token string">"VST52ASAH145TIZGJ3LC"</span><span class="token punctuation">}</span>,<span class="token punctuation">{</span><span class="token string">"id"</span>:3,<span class="token string">"createdAt"</span><span class="token builtin class-name">:</span><span class="token string">"2022-02-28T14:32:13Z"</span>,<span class="token string">"updatedAt"</span><span class="token builtin class-name">:</span><span class="token string">"2022-02-28T14:32:13Z"</span>,<span class="token string">"registrationPlate"</span><span class="token builtin class-name">:</span><span class="token string">"AA-207-AA"</span>,<span class="token string">"model"</span><span class="token builtin class-name">:</span><span class="token string">"207"</span>,<span class="token string">"brand"</span><span class="token builtin class-name">:</span><span class="token string">"PEUGEOT"</span>,<span class="token string">"serialNumber"</span><span class="token builtin class-name">:</span><span class="token string">"JI0BNW8D1HYGPFAECEPJ"</span><span class="token punctuation">}</span>,<span class="token punctuation">{</span><span class="token string">"id"</span>:4,<span class="token string">"createdAt"</span><span class="token builtin class-name">:</span><span class="token string">"2022-02-28T14:32:13Z"</span>,<span class="token string">"updatedAt"</span><span class="token builtin class-name">:</span><span class="token string">"2022-02-28T14:32:13Z"</span>,<span class="token string">"registrationPlate"</span><span class="token builtin class-name">:</span><span class="token string">"AA-208-AA"</span>,<span class="token string">"model"</span><span class="token builtin class-name">:</span><span class="token string">"208"</span>,<span class="token string">"brand"</span><span class="token builtin class-name">:</span><span class="token string">"PEUGEOT"</span>,<span class="token string">"serialNumber"</span><span class="token builtin class-name">:</span><span class="token string">"LN97FF02UWRJYRAEGFL5"</span><span class="token punctuation">}</span>,<span class="token punctuation">{</span><span class="token string">"id"</span>:5,<span class="token string">"createdAt"</span><span class="token builtin class-name">:</span><span class="token string">"2022-02-28T14:32:13Z"</span>,<span class="token string">"updatedAt"</span><span class="token builtin class-name">:</span><span class="token string">"2022-02-28T14:32:13Z"</span>,<span class="token string">"registrationPlate"</span><span class="token builtin class-name">:</span><span class="token string">"AA-106-AA"</span>,<span class="token string">"model"</span><span class="token builtin class-name">:</span><span class="token string">"106"</span>,<span class="token string">"brand"</span><span class="token builtin class-name">:</span><span class="token string">"PEUGEOT"</span>,<span class="token string">"serialNumber"</span><span class="token builtin class-name">:</span><span class="token string">"R94DJ8P5PT7M6PB5DP5B"</span><span class="token punctuation">}</span>,<span class="token punctuation">{</span><span class="token string">"id"</span>:6,<span class="token string">"createdAt"</span><span class="token builtin class-name">:</span><span class="token string">"2022-02-28T14:32:13Z"</span>,<span class="token string">"updatedAt"</span><span class="token builtin class-name">:</span><span class="token string">"2022-02-28T14:32:13Z"</span>,<span class="token string">"registrationPlate"</span><span class="token builtin class-name">:</span><span class="token string">"AA-107-AA"</span>,<span class="token string">"model"</span><span class="token builtin class-name">:</span><span class="token string">"107"</span>,<span class="token string">"brand"</span><span class="token builtin class-name">:</span><span class="token string">"PEUGEOT"</span>,<span class="token string">"serialNumber"</span><span class="token builtin class-name">:</span><span class="token string">"OJHHEW2SP2KJDU3CZLFO"</span><span class="token punctuation">}</span>,<span class="token punctuation">{</span><span class="token string">"id"</span>:7,<span class="token string">"createdAt"</span><span class="token builtin class-name">:</span><span class="token string">"2022-02-28T14:32:13Z"</span>,<span class="token string">"updatedAt"</span><span class="token builtin class-name">:</span><span class="token string">"2022-02-28T14:32:13Z"</span>,<span class="token string">"registrationPlate"</span><span class="token builtin class-name">:</span><span class="token string">"AA-108-AA"</span>,<span class="token string">"model"</span><span class="token builtin class-name">:</span><span class="token string">"108"</span>,<span class="token string">"brand"</span><span class="token builtin class-name">:</span><span class="token string">"PEUGEOT"</span>,<span class="token string">"serialNumber"</span><span class="token builtin class-name">:</span><span class="token string">"49LUMOTWMOQSNHK09MR3"</span><span class="token punctuation">}</span>,<span class="token punctuation">{</span><span class="token string">"id"</span>:8,<span class="token string">"createdAt"</span><span class="token builtin class-name">:</span><span class="token string">"2022-02-28T14:32:13Z"</span>,<span class="token string">"updatedAt"</span><span class="token builtin class-name">:</span><span class="token string">"2022-02-28T14:32:13Z"</span>,<span class="token string">"registrationPlate"</span><span class="token builtin class-name">:</span><span class="token string">"AA-306-AA"</span>,<span class="token string">"model"</span><span class="token builtin class-name">:</span><span class="token string">"306"</span>,<span class="token string">"brand"</span><span class="token builtin class-name">:</span><span class="token string">"PEUGEOT"</span>,<span class="token string">"serialNumber"</span><span class="token builtin class-name">:</span><span class="token string">"0KBBBHVTZN9P66I8TVGT"</span><span class="token punctuation">}</span>,<span class="token punctuation">{</span><span class="token string">"id"</span>:9,<span class="token string">"createdAt"</span><span class="token builtin class-name">:</span><span class="token string">"2022-02-28T14:32:13Z"</span>,<span class="token string">"updatedAt"</span><span class="token builtin class-name">:</span><span class="token string">"2022-02-28T14:32:13Z"</span>,<span class="token string">"registrationPlate"</span><span class="token builtin class-name">:</span><span class="token string">"AA-307-AA"</span>,<span class="token string">"model"</span><span class="token builtin class-name">:</span><span class="token string">"307"</span>,<span class="token string">"brand"</span><span class="token builtin class-name">:</span><span class="token string">"PEUGEOT"</span>,<span class="token string">"serialNumber"</span><span class="token builtin class-name">:</span><span class="token string">"TK0GX92MY29AR0H9ZYIB"</span><span class="token punctuation">}</span>,<span class="token punctuation">{</span><span class="token string">"id"</span>:10,<span class="token string">"createdAt"</span><span class="token builtin class-name">:</span><span class="token string">"2022-02-28T14:32:13Z"</span>,<span class="token string">"updatedAt"</span><span class="token builtin class-name">:</span><span class="token string">"2022-02-28T14:32:13Z"</span>,<span class="token string">"registrationPlate"</span><span class="token builtin class-name">:</span><span class="token string">"AA-308-AA"</span>,<span class="token string">"model"</span><span class="token builtin class-name">:</span><span class="token string">"308"</span>,<span class="token string">"brand"</span><span class="token builtin class-name">:</span><span class="token string">"PEUGEOT"</span>,<span class="token string">"serialNumber"</span><span class="token builtin class-name">:</span><span class="token string">"EKNPA002KCQXYAUX04AV"</span><span class="token punctuation">}</span>,<span class="token punctuation">{</span><span class="token string">"id"</span>:11,<span class="token string">"createdAt"</span><span class="token builtin class-name">:</span><span class="token string">"2022-02-28T14:32:13Z"</span>,<span class="token string">"updatedAt"</span><span class="token builtin class-name">:</span><span class="token string">"2022-02-28T14:32:13Z"</span>,<span class="token string">"registrationPlate"</span><span class="token builtin class-name">:</span><span class="token string">"AA-309-AA"</span>,<span class="token string">"model"</span><span class="token builtin class-name">:</span><span class="token string">"309"</span>,<span class="token string">"brand"</span><span class="token builtin class-name">:</span><span class="token string">"PEUGEOT"</span>,<span class="token string">"serialNumber"</span><span class="token builtin class-name">:</span><span class="token string">"D1788D08RU0AU3O5BVXR"</span><span class="token punctuation">}</span>,<span class="token punctuation">{</span><span class="token string">"id"</span>:12,<span class="token string">"createdAt"</span><span class="token builtin class-name">:</span><span class="token string">"2022-02-28T14:32:13Z"</span>,<span class="token string">"updatedAt"</span><span class="token builtin class-name">:</span><span class="token string">"2022-02-28T14:32:13Z"</span>,<span class="token string">"registrationPlate"</span><span class="token builtin class-name">:</span><span class="token string">"AA-405-AA"</span>,<span class="token string">"model"</span><span class="token builtin class-name">:</span><span class="token string">"405"</span>,<span class="token string">"brand"</span><span class="token builtin class-name">:</span><span class="token string">"PEUGEOT"</span>,<span class="token string">"serialNumber"</span><span class="token builtin class-name">:</span><span class="token string">"PHU0M7NKZ799D64VBVJ8"</span><span class="token punctuation">}</span>,<span class="token punctuation">{</span><span class="token string">"id"</span>:13,<span class="token string">"createdAt"</span><span class="token builtin class-name">:</span><span class="token string">"2022-02-28T14:32:13Z"</span>,<span class="token string">"updatedAt"</span><span class="token builtin class-name">:</span><span class="token string">"2022-02-28T14:32:13Z"</span>,<span class="token string">"registrationPlate"</span><span class="token builtin class-name">:</span><span class="token string">"AA-406-AA"</span>,<span class="token string">"model"</span><span class="token builtin class-name">:</span><span class="token string">"406"</span>,<span class="token string">"brand"</span><span class="token builtin class-name">:</span><span class="token string">"PEUGEOT"</span>,<span class="token string">"serialNumber"</span><span class="token builtin class-name">:</span><span class="token string">"NAD3F2ULL5TY4QCECLAO"</span><span class="token punctuation">}</span>,<span class="token punctuation">{</span><span class="token string">"id"</span>:14,<span class="token string">"createdAt"</span><span class="token builtin class-name">:</span><span class="token string">"2022-02-28T14:32:13Z"</span>,<span class="token string">"updatedAt"</span><span class="token builtin class-name">:</span><span class="token string">"2022-02-28T14:32:13Z"</span>,<span class="token string">"registrationPlate"</span><span class="token builtin class-name">:</span><span class="token string">"AA-407-AA"</span>,<span class="token string">"model"</span><span class="token builtin class-name">:</span><span class="token string">"407"</span>,<span class="token string">"brand"</span><span class="token builtin class-name">:</span><span class="token string">"PEUGEOT"</span>,<span class="token string">"serialNumber"</span><span class="token builtin class-name">:</span><span class="token string">"C842THXCOBFFZ0O5U0YK"</span><span class="token punctuation">}</span>,<span class="token punctuation">{</span><span class="token string">"id"</span>:15,<span class="token string">"createdAt"</span><span class="token builtin class-name">:</span><span class="token string">"2022-02-28T14:32:13Z"</span>,<span class="token string">"updatedAt"</span><span class="token builtin class-name">:</span><span class="token string">"2022-02-28T14:32:13Z"</span>,<span class="token string">"registrationPlate"</span><span class="token builtin class-name">:</span><span class="token string">"AA-508-AA"</span>,<span class="token string">"model"</span><span class="token builtin class-name">:</span><span class="token string">"508"</span>,<span class="token string">"brand"</span><span class="token builtin class-name">:</span><span class="token string">"PEUGEOT"</span>,<span class="token string">"serialNumber"</span><span class="token builtin class-name">:</span><span class="token string">"F0T2ELSQ0VPRF1NBY8XH"</span><span class="token punctuation">}</span>,<span class="token punctuation">{</span><span class="token string">"id"</span>:16,<span class="token string">"createdAt"</span><span class="token builtin class-name">:</span><span class="token string">"2022-02-28T14:32:13Z"</span>,<span class="token string">"updatedAt"</span><span class="token builtin class-name">:</span><span class="token string">"2022-02-28T14:32:13Z"</span>,<span class="token string">"registrationPlate"</span><span class="token builtin class-name">:</span><span class="token string">"AA-407-AA"</span>,<span class="token string">"model"</span><span class="token builtin class-name">:</span><span class="token string">"407"</span>,<span class="token string">"brand"</span><span class="token builtin class-name">:</span><span class="token string">"PEUGEOT"</span>,<span class="token string">"serialNumber"</span><span class="token builtin class-name">:</span><span class="token string">"WEBVP95ON3HDX0TGPFXB"</span><span class="token punctuation">}</span>,<span class="token punctuation">{</span><span class="token string">"id"</span>:17,<span class="token string">"createdAt"</span><span class="token builtin class-name">:</span><span class="token string">"2022-02-28T14:32:13Z"</span>,<span class="token string">"updatedAt"</span><span class="token builtin class-name">:</span><span class="token string">"2022-02-28T14:32:13Z"</span>,<span class="token string">"registrationPlate"</span><span class="token builtin class-name">:</span><span class="token string">"AA-508-AA"</span>,<span class="token string">"model"</span><span class="token builtin class-name">:</span><span class="token string">"508"</span>,<span class="token string">"brand"</span><span class="token builtin class-name">:</span><span class="token string">"PEUGEOT"</span>,<span class="token string">"serialNumber"</span><span class="token builtin class-name">:</span><span class="token string">"TEZ3D70UDBY8UKHRKSYY"</span><span class="token punctuation">}</span>,<span class="token punctuation">{</span><span class="token string">"id"</span>:18,<span class="token string">"createdAt"</span><span class="token builtin class-name">:</span><span class="token string">"2022-02-28T14:32:13Z"</span>,<span class="token string">"updatedAt"</span><span class="token builtin class-name">:</span><span class="token string">"2022-02-28T14:32:13Z"</span>,<span class="token string">"registrationPlate"</span><span class="token builtin class-name">:</span><span class="token string">"AA-605-AA"</span>,<span class="token string">"model"</span><span class="token builtin class-name">:</span><span class="token string">"605"</span>,<span class="token string">"brand"</span><span class="token builtin class-name">:</span><span class="token string">"PEUGEOT"</span>,<span class="token string">"serialNumber"</span><span class="token builtin class-name">:</span><span class="token string">"WIGYNFTWH0Q6E85Z2HA2"</span><span class="token punctuation">}</span>,<span class="token punctuation">{</span><span class="token string">"id"</span>:19,<span class="token string">"createdAt"</span><span class="token builtin class-name">:</span><span class="token string">"2022-02-28T14:32:13Z"</span>,<span class="token string">"updatedAt"</span><span class="token builtin class-name">:</span><span class="token string">"2022-02-28T14:32:13Z"</span>,<span class="token string">"registrationPlate"</span><span class="token builtin class-name">:</span><span class="token string">"AA-607-AA"</span>,<span class="token string">"model"</span><span class="token builtin class-name">:</span><span class="token string">"607"</span>,<span class="token string">"brand"</span><span class="token builtin class-name">:</span><span class="token string">"PEUGEOT"</span>,<span class="token string">"serialNumber"</span><span class="token builtin class-name">:</span><span class="token string">"OLI3JCTF82WUQK14Z295"</span><span class="token punctuation">}</span><span class="token punctuation">]</span>
</code></pre></div>
<h2>Création de véhicule</h2>
<div class="remark-highlight"><pre class="language-bash"><code class="language-bash">~ <span class="token function">curl</span> --location --request POST <span class="token string">'localhost:8080/admin/vehicle'</span> <span class="token punctuation">\</span>
--header <span class="token string">'Content-Type: application/json'</span> <span class="token punctuation">\</span>
--data-raw <span class="token string">'{</span>
<span class="token string">    "brand": "VolksWagen",</span>
<span class="token string">    "model": "Golf",</span>
<span class="token string">    "serialNumber": "VWVWVWVWVWVWVW",</span>
<span class="token string">    "registrationPlate": "GO-123-LF"</span>
<span class="token string">}'</span>
<span class="token punctuation">{</span><span class="token string">"id"</span>:20,<span class="token string">"createdAt"</span><span class="token builtin class-name">:</span><span class="token string">"2022-02-28T15:34:03Z"</span>,<span class="token string">"updatedAt"</span><span class="token builtin class-name">:</span><span class="token string">"2022-02-28T15:34:03Z"</span>,<span class="token string">"registrationPlate"</span><span class="token builtin class-name">:</span><span class="token string">"GO-123-LF"</span>,<span class="token string">"model"</span><span class="token builtin class-name">:</span><span class="token string">"Golf"</span>,<span class="token string">"brand"</span><span class="token builtin class-name">:</span><span class="token string">"VolksWagen"</span>,<span class="token string">"serialNumber"</span><span class="token builtin class-name">:</span><span class="token string">"VWVWVWVWVWVWVW"</span><span class="token punctuation">}</span>
</code></pre></div>
<h2>Mise a jour de véhicule</h2>
<div class="remark-highlight"><pre class="language-bash"><code class="language-bash">~ <span class="token function">curl</span> --location --request PUT <span class="token string">'localhost:8080/admin/vehicle'</span> <span class="token punctuation">\</span>
--header <span class="token string">'Content-Type: application/json'</span> <span class="token punctuation">\</span>
--data-raw <span class="token string">'{</span>
<span class="token string">    "id": 20,</span>
<span class="token string">    "brand": "VolksWagen",</span>
<span class="token string">    "model": "Golf SW",</span>
<span class="token string">    "serialNumber": "VWVWVWVWVWVWVW",</span>
<span class="token string">    "registrationPlate": "GO-123-LF"</span>
<span class="token string">}'</span>
<span class="token punctuation">{</span><span class="token string">"id"</span>:20,<span class="token string">"createdAt"</span><span class="token builtin class-name">:</span><span class="token string">"2022-02-28T15:40:55Z"</span>,<span class="token string">"updatedAt"</span><span class="token builtin class-name">:</span><span class="token string">"2022-02-28T15:40:55Z"</span>,<span class="token string">"registrationPlate"</span><span class="token builtin class-name">:</span><span class="token string">"GO-123-LF"</span>,<span class="token string">"model"</span><span class="token builtin class-name">:</span><span class="token string">"Golf SW"</span>,<span class="token string">"brand"</span><span class="token builtin class-name">:</span><span class="token string">"VolksWagen"</span>,<span class="token string">"serialNumber"</span><span class="token builtin class-name">:</span><span class="token string">"VWVWVWVWVWVWVW"</span><span class="token punctuation">}</span>
</code></pre></div>
<p>Vous pouvez retrouver le github du projet ici : <a href="https://dev.to/giboow/springboot-contextualizing-serialization-29mp">https://dev.to/giboow/springboot-contextualizing-serialization-29mp</a></p>
<p>Crédit photo : https://unsplash.com/photos/WVl1N2C2zEA</p>
</div></article><hr class="jsx-6b33a36520deb53e"/></div><div class="jsx-6b33a36520deb53e column is-12"><article><a href="/posts/comment-transcoder-une-video-avec-springboot-et-ffmpeg"><section class="hero is-secondary hero-background has-background is-blogpost"><img class="hero-background is-transparent" src="/static/images/post/proxy-transcoder-ffmpeg/main.jpg"/><div class="hero-body"><div class="container"><div class="title">Comment construire un transcodeur vidéo avec SpringBoot et FFMPEG !</div><div class="metadata"><div class="image is-24x24 is-pulled-left mr-2"><img src="https://github.com/giboow.png?size=28" class="is-rounded" alt="author"/></div><time class="is-left" dateTime="2021-10-12T00:00:00Z">12 octobre 2021</time></div></div></div></section></a><div class="post-item_post__bnn2s content mt-4"><p>J'ai récemment commencé à travailler sur un système de caméras de surveillance et je souhaite pouvoir afficher les vidéos collectées sur des pages Web.
À première vue, cela semblait très facile, mais je me suis vite rendu compte que je devais me creuser la tête!</p>
<h1>Comment cela doit fonctionner?</h1>
<p>La caméra est connectée à un NVR (Numeric Video recorder) qui possède une API permettant de récupérer les informations de configuration et le flux vidéo. En cherchant un peu sur le Web (Oui la documentation est difficile d'accès..), je découvre que le protocole de communication utilisé par le NVR est le RTSP (Real-Time Streaming Protocol). C'est là que je rencontre le principal problème ! Comment utiliser ce protocole dans une page HTML qui ne le supporte pas ? Ma solution est d'utiliser un serveur qui permet de transcoder la vidéo dans un format plus connu (MP4) et un protocole ultra standard (Http). Cela me permettra également de cacher les identifiants d'accès à la caméra en utilisant mon serveur comme un proxy.</p>
<p><img src="https://giboow.fr/static/images/post/proxy-transcoder-ffmpeg/graph-ffmpeg-transcoder.png" alt="Graph it should work"></p>
<h1>Alors comment on fait ça?</h1>
<p>Un excellent outil bien connu pour faire de la conversion vidéo est <a href="https://www.ffmpeg.org/">FFMPeg</a>, donc je commence à regarder comment je peux l'utiliser pour convertir RSTP. Je trouve rapidement une ligne de commande qui fonctionne :</p>
<div class="remark-highlight"><pre class="language-bash"><code class="language-bash">ffmpeg -y -loglevel level+info -n -re -acodec pcm_s16le -rtsp_transport tcp -i rtsp://user:passwd@192.168.1.200:554/ISAPI/Streaming/channels/101/live -vcodec copy -af <span class="token assign-left variable">asetrate</span><span class="token operator">=</span><span class="token number">22050</span> -acodec aac -b:a 96k -nostdin myvideo.mp4
</code></pre></div>
<p>Alors comment faire un proxy avec SpringBoot ? C'est très simple en fait, il suffit d'utiliser l'objet <a href="https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/mvc/method/annotation/StreamingResponseBody.html">StreamingResponseBody</a>. Cela permet de renvoyer un traitement asynchrone de la requête, où l'application peut écrire directement sur le flux de sortie de la réponse sans bloquer le reste de mon API.</p>
<p>Enfin, il me suffit d'utiliser FFMPEG dans mon contrôleur pour envoyer le flux via mon API. J'aurais pu utiliser " Runtime.getRuntime().exec(" ffmpeg...) " mais je n'arrivais pas à trouver comment obtenir mon flux. Heureusement, j'ai trouvé une bibliothèque magique <a href="https://github.com/kokorin/Jaffree">Jaffree</a> : "Jaffree stands for JAva FFmpeg and FFprobe FREE command line wrapper. Jaffree supports programmatic video production and consumption (with transparency)"</p>
<h1>La solution</h1>
<p>Voici la solution finale et comment relayer un flux vidéo provenant d'une caméra HikVision afin que le format soit utilisable par une page HTML.</p>
<div class="remark-highlight"><pre class="language-java"><code class="language-java"><span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>github<span class="token punctuation">.</span>kokorin<span class="token punctuation">.</span>jaffree<span class="token punctuation">.</span></span><span class="token class-name">StreamType</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>github<span class="token punctuation">.</span>kokorin<span class="token punctuation">.</span>jaffree<span class="token punctuation">.</span>ffmpeg<span class="token punctuation">.</span></span><span class="token class-name">FFmpeg</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token namespace">com<span class="token punctuation">.</span>github<span class="token punctuation">.</span>kokorin<span class="token punctuation">.</span>jaffree<span class="token punctuation">.</span>ffmpeg<span class="token punctuation">.</span></span><span class="token class-name">PipeOutput</span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">"/video"</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Log4j2</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">VideoController</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">"/live.mp4"</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@ResponseBody</span>
    <span class="token keyword">public</span> <span class="token class-name">ResponseEntity</span><span class="token generics"><span class="token punctuation">&#x3C;</span><span class="token class-name">StreamingResponseBody</span><span class="token punctuation">></span></span> <span class="token function">livestream</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">"id"</span><span class="token punctuation">)</span> <span class="token class-name">Long</span> tipperId<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>

        <span class="token class-name">String</span> rtspUrl <span class="token operator">=</span> <span class="token string">"rtsp://user:passwd@192.168.1.200:554/ISAPI/Streaming/channels/101/live"</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> <span class="token class-name">ResponseEntity</span><span class="token punctuation">.</span><span class="token function">ok</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">contentType</span><span class="token punctuation">(</span><span class="token class-name">MediaType</span><span class="token punctuation">.</span>APPLICATION_OCTET_STREAM<span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">body</span><span class="token punctuation">(</span>os <span class="token operator">-></span> <span class="token punctuation">{</span>
                    <span class="token class-name">FFmpeg</span><span class="token punctuation">.</span><span class="token function">atPath</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">addArgument</span><span class="token punctuation">(</span><span class="token string">"-re"</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">addArguments</span><span class="token punctuation">(</span><span class="token string">"-acodec"</span><span class="token punctuation">,</span> <span class="token string">"pcm_s16le"</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">addArguments</span><span class="token punctuation">(</span><span class="token string">"-rtsp_transport"</span><span class="token punctuation">,</span> <span class="token string">"tcp"</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">addArguments</span><span class="token punctuation">(</span><span class="token string">"-i"</span><span class="token punctuation">,</span> $rtspUrl<span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">addArguments</span><span class="token punctuation">(</span><span class="token string">"-vcodec"</span><span class="token punctuation">,</span> <span class="token string">"copy"</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">addArguments</span><span class="token punctuation">(</span><span class="token string">"-af"</span><span class="token punctuation">,</span> <span class="token string">"asetrate=22050"</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">addArguments</span><span class="token punctuation">(</span><span class="token string">"-acodec"</span><span class="token punctuation">,</span> <span class="token string">"aac"</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">addArguments</span><span class="token punctuation">(</span><span class="token string">"-b:a"</span><span class="token punctuation">,</span> <span class="token string">"96k"</span> <span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">addOutput</span><span class="token punctuation">(</span><span class="token class-name">PipeOutput</span><span class="token punctuation">.</span><span class="token function">pumpTo</span><span class="token punctuation">(</span>os<span class="token punctuation">)</span>
                                    <span class="token punctuation">.</span><span class="token function">disableStream</span><span class="token punctuation">(</span><span class="token class-name">StreamType</span><span class="token punctuation">.</span>AUDIO<span class="token punctuation">)</span>
                                    <span class="token punctuation">.</span><span class="token function">disableStream</span><span class="token punctuation">(</span><span class="token class-name">StreamType</span><span class="token punctuation">.</span>SUBTITLE<span class="token punctuation">)</span>
                                    <span class="token punctuation">.</span><span class="token function">disableStream</span><span class="token punctuation">(</span><span class="token class-name">StreamType</span><span class="token punctuation">.</span>DATA<span class="token punctuation">)</span>
                                    <span class="token punctuation">.</span><span class="token function">setFrameCount</span><span class="token punctuation">(</span><span class="token class-name">StreamType</span><span class="token punctuation">.</span>VIDEO<span class="token punctuation">,</span> <span class="token number">100L</span><span class="token punctuation">)</span>
                                     <span class="token comment">//1 frame every 10 seconds</span>
                                    <span class="token punctuation">.</span><span class="token function">setFrameRate</span><span class="token punctuation">(</span><span class="token number">0.1</span><span class="token punctuation">)</span>
                                    <span class="token punctuation">.</span><span class="token function">setDuration</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span>HOURS<span class="token punctuation">)</span>
                                    <span class="token punctuation">.</span><span class="token function">setFormat</span><span class="token punctuation">(</span><span class="token string">"ismv"</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">addArgument</span><span class="token punctuation">(</span><span class="token string">"-nostdin"</span><span class="token punctuation">)</span>
                            <span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div>
<p>Vous devrez également modifier la configuration de votre application SpringBoot (fichier application.properties) pour augmenter le délai d'attente pour les requêtes asynchrones.</p>
<div class="remark-highlight"><pre class="language-html"><code class="language-html">spring.mvc.async.request-timeout = 3600000
</code></pre></div>
<p>Il vous suffit d'appeler votre API sur la page web :</p>
<div class="remark-highlight"><pre class="language-html"><code class="language-html"><span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>video<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>video</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>100%<span class="token punctuation">"</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>auto<span class="token punctuation">"</span></span> <span class="token attr-name">controls</span> <span class="token attr-name">autoplay</span> <span class="token attr-name">muted</span> <span class="token attr-name">loop</span> <span class="token attr-name">*ngIf</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>event?.video<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;</span>source</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>http://localhost:8080/video/live.mp4<span class="token punctuation">"</span></span>
            <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">"</span>video/mp4<span class="token punctuation">"</span></span><span class="token punctuation">></span></span>
    Sorry, your browser doesn't support embedded videos.
  <span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>video</span><span class="token punctuation">></span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&#x3C;/</span>div</span><span class="token punctuation">></span></span>
</code></pre></div>
<p>Et voici le résultat :</p>
<p><img src="https://giboow.fr/static/images/post/proxy-transcoder-ffmpeg/result-ffmpeg-transcoder.png" alt="Final result"></p>
<p>Facile non?</p>
<p><a href="https://dev.to/giboow/how-to-build-a-video-transcoder-with-springboot-and-ffmpeg-n7p">Retrouvez l'article anglais sur dev.to</a></p>
</div></article><hr class="jsx-6b33a36520deb53e"/></div><div class="jsx-6b33a36520deb53e column is-12"><article><a href="/posts/android-emulator-apple-silicon"><section class="hero is-secondary hero-background has-background is-blogpost"><img class="hero-background is-transparent" src="/static/images/post/android-apple.png"/><div class="hero-body"><div class="container"><div class="title">Android Emulator sur Apple Silicon, enfin une preview!</div><div class="metadata"><div class="image is-24x24 is-pulled-left mr-2"><img src="https://github.com/giboow.png?size=28" class="is-rounded" alt="author"/></div><time class="is-left" dateTime="2020-12-06T00:00:00Z">6 décembre 2020</time></div></div></div></section></a><div class="post-item_post__bnn2s content mt-4"><p>Bonsoir à tous!</p>
<p>J'ai récemment craqué pour le nouveau MacBook Pro M1! Depuis 1 semaine que je l'apprivoise, toutes les applications
que j'utilise fonctionnent (merci Rosetta2!). Mon seul problème, en tant que developpeur mobile, est que l'Emulateur
Android ne fonctionne pas. C'est
d'ailleurs le problème de toutes les applications qui font de la virtualisation (Docker, ParallelDesktop, etc …)!
Je dois donc utiliser un téléphone physique, et cela m'empêche de tester mes applications sur différentes versions
d'Android.</p>
<p>Heureusement les ingénieurs de Google sont à fond sur le  coup et ont mis à disposition une version Preview de
l'émulateur ici : <a href="https://androidstudio.googleblog.com/2020/12/android-emulator-apple-silicon-preview.html">https://androidstudio.googleblog.com/2020/12/android-emulator-apple-silicon-preview.html</a></p>
<p>Et ça fonctionne :</p>
<p><img src="/static/images/post/capture_android_emulator_preview.png" alt="Capture Android preview"></p>
<p>Pour autant tout n'est pas parfait :</p>
<ul>
<li>Les Webview ne fonctionnent pas</li>
<li>Pas de son</li>
<li>Pas de skin téléphone</li>
<li>Les codecs vidéos ne sont pas fonctionnels</li>
<li>Les applications ARM 32Bits ne sont pas compatibles</li>
<li>Quelques bugs graphiques sur les applications utilisant l'API Vulkan</li>
<li>Une popup apparait au démarrage de l'émulateur, indiquant qu'elle ne trouve pas ADB</li>
</ul>
<p>Tout est dit! Il ne reste plus qu'à tester 😃.</p>
<p>Amusez-vous bien!</p>
</div></article><hr class="jsx-6b33a36520deb53e"/></div><div class="jsx-6b33a36520deb53e column is-12"><article><a href="/posts/comment-configurer-postgresql-avec-pgtune"><section class="hero is-secondary hero-background has-background is-blogpost"><img class="hero-background is-transparent" src="/static/images/post/pgtune.png"/><div class="hero-body"><div class="container"><div class="title">Comment bien configurer son serveur Postgres avec PGTune</div><div class="metadata"><div class="image is-24x24 is-pulled-left mr-2"><img src="https://github.com/giboow.png?size=28" class="is-rounded" alt="author"/></div><time class="is-left" dateTime="2020-12-02T00:00:00Z">2 décembre 2020</time></div></div></div></section></a><div class="post-item_post__bnn2s content mt-4"><p>Récemment, j'ai dû mettre le nez dans les serveurs de notre application, car nous avions des problèmes de performances
et de stabilité.</p>
<p>Pour vous replanter le décor, l'application dont je m'occupe aujourd'hui est hébergé sur un serveur qui comprend un
service de base de données Postgres, un serveur d'application Java, ainsi que d'un serveur apache permettant aux
utilisateurs de télécharger le front. Tout ça fonctionne sur le même serveur sans conteneurs. N'ayant pas installé ces
services moi-même, j'ai dû passer un peu de temps pour comprendre pourquoi notre serveur plantait lors de fortes
charges... Puis je me suis aperçu grâce à notre système de monitoring que la mémoire du serveur Postgres n'était même
pas limitée...</p>
<p>Je n'ai aucune connaissance sur les configurations des services Postgres, et comme je n'aime pas trop perdre de temps à
éplucher les documentations, j'ai fouillé un peu sur la toile. C'est là que j'ai découvert le travail
de <a href="https://github.com/le0pard">Alexey Vasiliev (@leOpard)</a> qui propose un générateur de configuration
Postgres : <a href="https://pgtune.leopard.in.ua/#/">PGTune</a></p>
<p>Il suffit de paramétrer votre configuration en fonction des ressources que vous voulez allouer sur le serveur! Et PAF ça
fait le ☕!</p>
<p><img src="/static/images/post/capture-pgtune.png" alt="PGTune capture"></p>
<p>Il ne vous reste plus qu'à injecter cette nouvelle configuration dans le fichier de configuration de votre Postgres.</p>
<p>Depuis que j'ai appliqué la configuration par l'utilitaire, je n'ai plus de problème de performance. Finalement, les utilisateurs sont
contents, et moi aussi 😃.</p>
<p>Pour les fans de <a href="https://www.ruby-lang.org/fr/">Ruby</a>, où si cela vous amuse, vous pouvez aller consulter le code du
générateur de @leOpard, les sources sont disponibles sur
Github : <a href="https://github.com/le0pard/pgtune">https://github.com/le0pard/pgtune</a></p>
</div></article><hr class="jsx-6b33a36520deb53e"/></div><div class="jsx-6b33a36520deb53e column is-12"><article><a href="/posts/giboow-le-blog"><section class="hero is-secondary hero-background has-background is-blogpost"><img class="hero-background is-transparent" src="/static/images/post/hello-image.webp"/><div class="hero-body"><div class="container"><div class="title">Giboow, le Blog!</div><div class="metadata"><div class="image is-24x24 is-pulled-left mr-2"><img src="https://github.com/giboow.png?size=28" class="is-rounded" alt="author"/></div><time class="is-left" dateTime="2020-11-25T00:00:00Z">25 novembre 2020</time></div></div></div></section></a><div class="post-item_post__bnn2s content mt-4"><p>Je m'appelle Philippe, j'ai 36 ans, j'ai une petite famille ainsi qu'un chat et deux poules!
Je suis développeur d'application depuis une bonne quinzaine d'années. Le développement et la technologie occupent donc
une bonne partie de mes journées !</p>
<p>J'ai toujours aimé la programmation et la logique qui en découle. J'ai commencé ma carrière au collège en 4e, lorsque
mon grand frère m'a offert une calculatrice Casio graphique, depuis ce jour là j'ai découvert les bases de la
programmation ! À 13 ans, nous avons reçu notre premier ordinateur, c'était un Apple Performa 6320, au bout d’un mois
nous avons démonté la bête avec mon frère pour voir comment cela fonctionnait !
J'ai ensuite continué mon évolution tranquillement avec des pages HTML statiques, des Apple script, etc...</p>
<p>Pendant mes
études j'ai beaucoup travaillé sur Linux j'ai donc une bonne connaissance de ce système et de son fonctionnement, je ne
suis cependant pas un expert (mais je me débrouille toujours 😃).</p>
<p>En 2009, j'ai commencé ma carrière professionnelle. J'ai toujours voulu naviguer sur différents projets, apprendre de
nouvelles choses. Je déteste le fait d'être considéré comme un expert dans une technologie précise. J'aime apprendre de
nouvelles choses, maitriser l'ensemble de mes projets, et de partager mes connaissances avec mes amis, mes collègues,
vous !</p>
<p>Sur ce blog conçut et réaliser avec ♥, je vais essayer de vous partager mon quotidien (du code, du code, du code!!),
mais aussi tout ce que je trouve intéressant sur la toile et relatif a mon métier (application, librairies, hardware,
news, etc.) !</p>
<p>Ce site va être aussi pour moi, un bon moyen pour (re)découvrir ReactJs ainsi que NextJs. J'ai en effet eu l'occasion de
manipuler ces deux frameworks, mais sans jamais proposer une version disponible publiquement.</p>
</div></article><hr class="jsx-6b33a36520deb53e"/></div></div></div></section><footer class="footer"><div class="container"><div class="columns is-vcentered"><div class="column is-offset-1-desktop is-4 is-6-mobile"><div class="content is-large"><div class="columns is-mobile"><div class="column"><a title="Twitter" class="icon" href="https://twitter.com/giboow"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="twitter" class="svg-inline--fa fa-twitter fa-w-16 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="currentColor" d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"></path></svg></a></div><div class="column"><a title="LinkedIn" class="icon" href="https://www.linkedin.com/in/pgibert/"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="linkedin" class="svg-inline--fa fa-linkedin fa-w-14 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"></path></svg></a></div><div class="column"><a title="Github" class="icon" target="_blank" href="https://github.com/giboow/"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="github" class="svg-inline--fa fa-github fa-w-16 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path fill="currentColor" d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"></path></svg></a></div><div class="column"><a title="Contactez moi" class="icon" href="/contact"><svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="weixin" class="svg-inline--fa fa-weixin fa-w-18 " role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 576 512"><path fill="currentColor" d="M385.2 167.6c6.4 0 12.6.3 18.8 1.1C387.4 90.3 303.3 32 207.7 32 100.5 32 13 104.8 13 197.4c0 53.4 29.3 97.5 77.9 131.6l-19.3 58.6 68-34.1c24.4 4.8 43.8 9.7 68.2 9.7 6.2 0 12.1-.3 18.3-.8-4-12.9-6.2-26.6-6.2-40.8-.1-84.9 72.9-154 165.3-154zm-104.5-52.9c14.5 0 24.2 9.7 24.2 24.4 0 14.5-9.7 24.2-24.2 24.2-14.8 0-29.3-9.7-29.3-24.2.1-14.7 14.6-24.4 29.3-24.4zm-136.4 48.6c-14.5 0-29.3-9.7-29.3-24.2 0-14.8 14.8-24.4 29.3-24.4 14.8 0 24.4 9.7 24.4 24.4 0 14.6-9.6 24.2-24.4 24.2zM563 319.4c0-77.9-77.9-141.3-165.4-141.3-92.7 0-165.4 63.4-165.4 141.3S305 460.7 397.6 460.7c19.3 0 38.9-5.1 58.6-9.9l53.4 29.3-14.8-48.6C534 402.1 563 363.2 563 319.4zm-219.1-24.5c-9.7 0-19.3-9.7-19.3-19.6 0-9.7 9.7-19.3 19.3-19.3 14.8 0 24.4 9.7 24.4 19.3 0 10-9.7 19.6-24.4 19.6zm107.1 0c-9.7 0-19.3-9.7-19.3-19.6 0-9.7 9.7-19.3 19.3-19.3 14.5 0 24.4 9.7 24.4 19.3.1 10-9.9 19.6-24.4 19.6z"></path></svg></a></div></div></div></div><div class="column is-offset-4-desktop is-4-desktop"><div class="content is-small">© <!-- -->2022<!-- --> - Made with ♥ By <a href="https://twitter.com/giboow">Giboow</a></div></div></div></div></footer></div></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"edito":null,"posts":[{"id":"postgresql-optim-requete-geoloc","author":"giboow","title":"PostgreSQL - Comment booster ses recherches de point géolocalisé","date":"2022-03-24","keywords":["PostgreSQL","PostGIS","Latitude","Longitude","Optimisation","SQL"],"image":"/static/images/post/postgres-geoloc-optim.png","contentHtml":"\u003cp\u003eRécemment j’ai voulu créer une petite application mobile qui permet de rechercher les boîtes aux lettres qui sont autour de la géolocalisation utilisateur. D’autres apps existent, mais leurs performances n’étaient pas vraiment au rendez-vous, alors j’ai voulu tenter de trouver des solutions!\u003c/p\u003e\n\u003cp\u003ePour commencer, j’ai réussi à récupérer un jeu de donnée sur le site \u003ca href=\"http://data.gouv.fr/\"\u003edata.gouv.fr\u003c/a\u003e : \u003ca href=\"https://www.data.gouv.fr/fr/datasets/liste-des-boites-aux-lettres-de-rue-france-metropolitaine-et-dom-avec-heure-limite-de-depot-1/\"\u003ehttps://www.data.gouv.fr/fr/datasets/liste-des-boites-aux-lettres-de-rue-france-metropolitaine-et-dom-avec-heure-limite-de-depot-1/\u003c/a\u003e . Ce jeu de données comporte 140 000 entrées, bien sûr l’utilisateur qui va vouloir afficher les boîtes aux lettres proches de lui, n’aura pas besoin d’afficher toutes les boîtes disponibles dans la base de données, mais seulement celles proches de lui, par exemple 10km.\u003c/p\u003e\n\u003cp\u003ePour mon projet j’utilise une API SpringBoot, mais ce n’est pas ce qui va vous intéresser aujourd’hui. Le vrai problème c’est comment récupérer l’ensemble des données, stockées dans une base de données PostgreSQL, qui sont géolocalisées proche d’un point dans un temps convenable!\u003c/p\u003e\n\u003ch2\u003eL’objectif\u003c/h2\u003e\n\u003cp\u003eMon objectif est donc de trouver un ensemble de points qui se trouvent dans un rayon de 10km, en un temps record!\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/static/images/post/postgres-geoloc-optim.png\" alt=\"Objectif de la requete\"\u003e\u003c/p\u003e\n\u003ch2\u003ePostGIS à la rescousse\u003c/h2\u003e\n\u003cp\u003ePostGIS est une extension de PostgreSQL, elle permet d’offrir de nouvelle fonction et des types de données qui facilitent les recherches géolocalisées.\u003c/p\u003e\n\u003cp\u003ePour installer PostGIS sur son serveur :\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-bash\"\u003e\u003ccode class=\"language-bash\"\u003e~$ \u003cspan class=\"token function\"\u003esudo\u003c/span\u003e \u003cspan class=\"token function\"\u003eapt\u003c/span\u003e \u003cspan class=\"token function\"\u003einstall\u003c/span\u003e postgis\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eIl faut ensuite l’activer dans PosgresSQL, en se connectant à la base de données et en ajoutant l’extension \u003cstrong\u003epostgis\u003c/strong\u003e. Elle sera donc active uniquement dans la base de données sélectionnée.\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-sql\"\u003e\u003ccode class=\"language-sql\"\u003epsql \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e13.6\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eUbuntu \u003cspan class=\"token number\"\u003e13.6\u003c/span\u003e\u003cspan class=\"token operator\"\u003e-\u003c/span\u003e\u003cspan class=\"token number\"\u003e0\u003c/span\u003eubuntu0\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token number\"\u003e21.10\u003c/span\u003e\u003cspan class=\"token number\"\u003e.1\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003eType\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"help\"\u003c/span\u003e \u003cspan class=\"token keyword\"\u003efor\u003c/span\u003e help\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\n\npostgres\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token comment\"\u003e# \\c test;\u003c/span\u003e\npostgres\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token comment\"\u003e# CREATE EXTENSION postgis;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eNous pouvons maintenant créer une table qui contient un id, une latitude, une longitude ainsi qu’un point GPS.  La valeur du SRID \u003cstrong\u003e4326\u003c/strong\u003e  permet de déclarer un point utilisant le système de référence spatiale géographique.\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-sql\"\u003e\u003ccode class=\"language-sql\"\u003e\u003cspan class=\"token keyword\"\u003eCREATE\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eTABLE\u003c/span\u003e \u003cspan class=\"token keyword\"\u003epublic\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003etest \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\n    id bigserial \u003cspan class=\"token operator\"\u003eNOT\u003c/span\u003e \u003cspan class=\"token boolean\"\u003eNULL\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n    lat \u003cspan class=\"token keyword\"\u003ereal\u003c/span\u003e \u003cspan class=\"token operator\"\u003eNOT\u003c/span\u003e \u003cspan class=\"token boolean\"\u003eNULL\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n    long \u003cspan class=\"token keyword\"\u003ereal\u003c/span\u003e \u003cspan class=\"token operator\"\u003eNOT\u003c/span\u003e \u003cspan class=\"token boolean\"\u003eNULL\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\n    location geography\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token keyword\"\u003ePoint\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e4326\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003eNOT\u003c/span\u003e \u003cspan class=\"token boolean\"\u003eNULL\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eOn peut alors facilement ajouter un point en utilisant la requête suivante :\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-sql\"\u003e\u003ccode class=\"language-sql\"\u003e\u003cspan class=\"token keyword\"\u003eINSERT\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eINTO\u003c/span\u003e test \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003elat\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e long\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e location\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003eVALUES\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e49.548462\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\u003cspan class=\"token number\"\u003e1.0779799\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003eST_SetSRID\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eST_MakePoint\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e49.548462\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\u003cspan class=\"token number\"\u003e1.0779799\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e4326\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003ch2\u003eOptimisation\u003c/h2\u003e\n\u003cp\u003ePour valider mon optimisation, j’ai ajouté à ma table 140 000 lignes de données géolocalisées.\u003c/p\u003e\n\u003cp\u003eBêtement j’ai voulu rechercher tous les points qui se trouvaient dans un rayon de moins de 10km avec la fonction \u003cstrong\u003est_distancesphere\u003c/strong\u003e.\u003c/p\u003e\n\u003cp\u003eVoici la requête que j’exécute pour récupérer tous les points GPS dans un rayon de 10km :\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-sql\"\u003e\u003ccode class=\"language-sql\"\u003e\u003cspan class=\"token keyword\"\u003eEXPLAIN\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eANALYSE \u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e BUFFERS \u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003eSELECT\u003c/span\u003e st_distancesphere\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003et\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003elocation::\u003cspan class=\"token keyword\"\u003egeometry\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003eST_SetSRID\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eST_MakePoint\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e49.548462\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\u003cspan class=\"token number\"\u003e1.0779799\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e4326\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003eFROM\u003c/span\u003e test t\n\u003cspan class=\"token keyword\"\u003eWHERE\u003c/span\u003e\nst_distancesphere\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003et\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003elocation::\u003cspan class=\"token keyword\"\u003egeometry\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003eST_SetSRID\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eST_MakePoint\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e49.548462\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\u003cspan class=\"token number\"\u003e1.0779799\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e4326\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token operator\"\u003e\u0026#x3C;\u003c/span\u003e \u003cspan class=\"token number\"\u003e10000\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eL’analyser de requête de PostgeSQL montre bien qu’aucun index n’est utilisé et que la requête prend 463ms pour renvoyer 21 points qui correspondes aux conditions.\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-sql\"\u003e\u003ccode class=\"language-sql\"\u003eGather  \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ecost\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token number\"\u003e1000.00\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token number\"\u003e.2776968\u003c/span\u003e\u003cspan class=\"token number\"\u003e.00\u003c/span\u003e \u003cspan class=\"token keyword\"\u003erows\u003c/span\u003e\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token number\"\u003e47062\u003c/span\u003e width\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token number\"\u003e8\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eactual \u003cspan class=\"token keyword\"\u003etime\u003c/span\u003e\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token number\"\u003e160.851\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token number\"\u003e.461\u003c/span\u003e\u003cspan class=\"token number\"\u003e.391\u003c/span\u003e \u003cspan class=\"token keyword\"\u003erows\u003c/span\u003e\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token number\"\u003e115\u003c/span\u003e loops\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n  Workers Planned: \u003cspan class=\"token number\"\u003e1\u003c/span\u003e\n  Workers Launched: \u003cspan class=\"token number\"\u003e1\u003c/span\u003e\n  Buffers: shared hit\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token number\"\u003e1759\u003c/span\u003e\n  \u003cspan class=\"token operator\"\u003e-\u003c/span\u003e\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e  Parallel Seq Scan \u003cspan class=\"token keyword\"\u003eon\u003c/span\u003e test t  \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ecost\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token number\"\u003e0.00\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token number\"\u003e.2771261\u003c/span\u003e\u003cspan class=\"token number\"\u003e.80\u003c/span\u003e \u003cspan class=\"token keyword\"\u003erows\u003c/span\u003e\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token number\"\u003e27684\u003c/span\u003e width\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token number\"\u003e8\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eactual \u003cspan class=\"token keyword\"\u003etime\u003c/span\u003e\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token number\"\u003e218.887\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token number\"\u003e.415\u003c/span\u003e\u003cspan class=\"token number\"\u003e.046\u003c/span\u003e \u003cspan class=\"token keyword\"\u003erows\u003c/span\u003e\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token number\"\u003e58\u003c/span\u003e loops\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token number\"\u003e2\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003cspan class=\"token string\"\u003e\"        Filter: (st_distance(geography((location)::geometry), '0101000020E6100000A48CB80034C64840F5EC03DA673FF13F'::geography, false) \u0026#x3C; '10000'::double precision)\"\u003c/span\u003e\n        \u003cspan class=\"token keyword\"\u003eRows\u003c/span\u003e Removed \u003cspan class=\"token keyword\"\u003eby\u003c/span\u003e Filter: \u003cspan class=\"token number\"\u003e70535\u003c/span\u003e\n        Buffers: shared hit\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token number\"\u003e1759\u003c/span\u003e\nPlanning \u003cspan class=\"token keyword\"\u003eTime\u003c/span\u003e: \u003cspan class=\"token number\"\u003e0.376\u003c/span\u003e ms\nJIT:\n  Functions: \u003cspan class=\"token number\"\u003e8\u003c/span\u003e\n\u003cspan class=\"token string\"\u003e\"  Options: Inlining true, Optimization true, Expressions true, Deforming true\"\u003c/span\u003e\n\u003cspan class=\"token string\"\u003e\"  Timing: Generation 2.485 ms, Inlining 178.841 ms, Optimization 117.797 ms, Emission 56.983 ms, Total 356.106 ms\"\u003c/span\u003e\nExecution \u003cspan class=\"token keyword\"\u003eTime\u003c/span\u003e: \u003cspan class=\"token number\"\u003e463.431\u003c/span\u003e ms\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eNous allons donc créer un index qui va permettre d’accélérer la requête (voir  la doc \u003ca href=\"http://postgis.net/workshops/postgis-intro/indexing.html\"\u003ehttp://postgis.net/workshops/postgis-intro/indexing.html\u003c/a\u003e):\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-sql\"\u003e\u003ccode class=\"language-sql\"\u003e\u003cspan class=\"token keyword\"\u003eCREATE\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eINDEX\u003c/span\u003e test_position_geography_index \u003cspan class=\"token keyword\"\u003eON\u003c/span\u003e test \u003cspan class=\"token keyword\"\u003eUSING\u003c/span\u003e GIST\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003egeography\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003elocation\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eMais nous allons avoir une mauvaise surprise, car l’index ne fonctionne toujours pas. Après une recherche rapide, je me suis aperçu qu’il n’y a que certaines fonctions de PostGIS qui peuvent utiliser l’indexation (voir la doc ici : \u003ca href=\"http://postgis.net/workshops/postgis-intro/indexing.html#spatially-indexed-functions\"\u003ehttp://postgis.net/workshops/postgis-intro/indexing.html#spatially-indexed-functions\u003c/a\u003e).\u003c/p\u003e\n\u003cp\u003eJe décide donc d’utiliser la fonction ST_DWithin qui renvoie un vrai si deux points se trouvent bien à la distance passée dans le 3e paramètre.\u003c/p\u003e\n\u003cp\u003eVoici donc la requête suivie de l’analyse :\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-sql\"\u003e\u003ccode class=\"language-sql\"\u003e\u003cspan class=\"token keyword\"\u003eEXPLAIN\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eANALYSE \u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e BUFFERS \u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003eSELECT\u003c/span\u003e st_distancesphere\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003et\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003elocation::\u003cspan class=\"token keyword\"\u003egeometry\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003eST_SetSRID\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eST_MakePoint\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e49.548462\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\u003cspan class=\"token number\"\u003e1.0779799\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e4326\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003eFROM\u003c/span\u003e test t\n\u003cspan class=\"token keyword\"\u003eWHERE\u003c/span\u003e\n   ST_DWithin\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003et\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003elocation\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e ST_SetSRID\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eST_MakePoint\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e49.548462\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e\u003cspan class=\"token number\"\u003e1.0779799\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e4326\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e::geography\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e10000\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-sql\"\u003e\u003ccode class=\"language-sql\"\u003eBitmap Heap Scan \u003cspan class=\"token keyword\"\u003eon\u003c/span\u003e test t  \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ecost\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token number\"\u003e4.95\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token number\"\u003e.2390\u003c/span\u003e\u003cspan class=\"token number\"\u003e.34\u003c/span\u003e \u003cspan class=\"token keyword\"\u003erows\u003c/span\u003e\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token number\"\u003e14\u003c/span\u003e width\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token number\"\u003e8\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eactual \u003cspan class=\"token keyword\"\u003etime\u003c/span\u003e\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token number\"\u003e1.212\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token number\"\u003e.2\u003c/span\u003e\u003cspan class=\"token number\"\u003e.205\u003c/span\u003e \u003cspan class=\"token keyword\"\u003erows\u003c/span\u003e\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token number\"\u003e115\u003c/span\u003e loops\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003cspan class=\"token string\"\u003e\"  Filter: st_dwithin(location, '0101000020E6100000A48CB80034C64840F5EC03DA673FF13F'::geography, '10000'::double precision, true)\"\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003eRows\u003c/span\u003e Removed \u003cspan class=\"token keyword\"\u003eby\u003c/span\u003e Filter: \u003cspan class=\"token number\"\u003e200\u003c/span\u003e\n  Heap Blocks: exact\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token number\"\u003e150\u003c/span\u003e\n  Buffers: shared hit\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token number\"\u003e188\u003c/span\u003e\n  \u003cspan class=\"token operator\"\u003e-\u003c/span\u003e\u003cspan class=\"token operator\"\u003e\u003e\u003c/span\u003e  Bitmap \u003cspan class=\"token keyword\"\u003eIndex\u003c/span\u003e Scan \u003cspan class=\"token keyword\"\u003eon\u003c/span\u003e test_position_geography_index  \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003ecost\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token number\"\u003e0.00\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token number\"\u003e.4\u003c/span\u003e\u003cspan class=\"token number\"\u003e.95\u003c/span\u003e \u003cspan class=\"token keyword\"\u003erows\u003c/span\u003e\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token number\"\u003e72\u003c/span\u003e width\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token number\"\u003e0\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eactual \u003cspan class=\"token keyword\"\u003etime\u003c/span\u003e\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token number\"\u003e0.288\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token number\"\u003e.0\u003c/span\u003e\u003cspan class=\"token number\"\u003e.288\u003c/span\u003e \u003cspan class=\"token keyword\"\u003erows\u003c/span\u003e\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token number\"\u003e315\u003c/span\u003e loops\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003cspan class=\"token string\"\u003e\"        Index Cond: (location \u0026#x26;\u0026#x26; _st_expand('0101000020E6100000A48CB80034C64840F5EC03DA673FF13F'::geography, '10000'::double precision))\"\u003c/span\u003e\n        Buffers: shared hit\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token number\"\u003e26\u003c/span\u003e\nPlanning \u003cspan class=\"token keyword\"\u003eTime\u003c/span\u003e: \u003cspan class=\"token number\"\u003e0.446\u003c/span\u003e ms\nExecution \u003cspan class=\"token keyword\"\u003eTime\u003c/span\u003e: \u003cspan class=\"token number\"\u003e2.288\u003c/span\u003e ms\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eOn voit bien que l’index \u003cstrong\u003etest_position_geography_index\u003c/strong\u003e est utilisé et qu’il permet de récupérer les 21 points en \u003cstrong\u003e2.288ms\u003c/strong\u003e 🤯. ****Le gain est énorme, il permet de réduire considérablement le temps d’exécution et le temps d’utilisation processeur.\u003c/p\u003e\n\u003ch2\u003eBilan\u003c/h2\u003e\n\u003cp\u003eDans mon API de géolocalisation de boîtes aux lettres, cela m’a permis de diviser par 10 le temps de requête et de soulager le serveur lorsque je simulais une charge serveur avec l’outil de tests de performance d’Apache \u003cstrong\u003eab\u003c/strong\u003e (\u003ca href=\"https://httpd.apache.org/docs/2.4/fr/programs/ab.html\"\u003ehttps://httpd.apache.org/docs/2.4/fr/programs/ab.html\u003c/a\u003e).\u003c/p\u003e\n"},{"id":"springboot-contrextualiser-la-serialization","author":"giboow","title":"SpringBoot -  Contextualiser la serialisation","date":"2022-02-28","keywords":["SpringBoot","API","JSON","Jackson","Filter"],"image":"/static/images/post/tyler-nix-WVl1N2C2zEA-unsplash.jpg","contentHtml":"\u003cp\u003eÀ chaque fois que j’ai développé une API, je me suis confronté au même problème : comment filtrer les données en fonction de mes appels API.\u003c/p\u003e\n\u003cp\u003eEn effet, certains appels qui sont disponibles par exemple pour appel “utilisateur” ne rendront pas les mêmes données qu’un appel disponible pour un “administrateur”.\u003c/p\u003e\n\u003ch1\u003eLe projet\u003c/h1\u003e\n\u003cp\u003ePour commencer, nous allons construire une API REST pour la gestion des véhicules, nous aurons donc un objet “\u003cstrong\u003eVehicle”\u003c/strong\u003e qui sera constitué de la façon suivante :\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eId: Long\u003c/li\u003e\n\u003cli\u003ebrand: String ⇒ La marque, par exemple (Renault)\u003c/li\u003e\n\u003cli\u003emodel: String ⇒ Le model, par exemple (Megane)\u003c/li\u003e\n\u003cli\u003eregistrationPlate: String  ⇒ La plaque d’immatriculation de la voiture, par exemple (SP-800-TT)\u003c/li\u003e\n\u003cli\u003eSerial number : String ⇒ Le numéro de série du véhicule\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eCes données pourront être lues par n’importe quel utilisateur. Nous définirons en plus des données dont l’utilisateur n’a pas besoin, mais que l’administrateur peut consulter :\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eCreatedAt : LocalDatetime ⇒ Date de création de l’objet en base de données\u003c/li\u003e\n\u003cli\u003eUpdatedAt : LocalDatetime ⇒ Date de modification de l’objet en base de données\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003ePour gagner du temps lors de mes développements, je définis une Class abstraite qui me sert de base a l’ensemble de mes entités :\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-java\"\u003e\u003ccode class=\"language-java\"\u003e\u003cspan class=\"token annotation punctuation\"\u003e@MappedSuperclass\u003c/span\u003e\n\u003cspan class=\"token annotation punctuation\"\u003e@Data\u003c/span\u003e\n\u003cspan class=\"token annotation punctuation\"\u003e@SuperBuilder\u003c/span\u003e\n\u003cspan class=\"token annotation punctuation\"\u003e@NoArgsConstructor\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eabstract\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eEntityAbstract\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\n    \u003cspan class=\"token annotation punctuation\"\u003e@Id\u003c/span\u003e\n    \u003cspan class=\"token annotation punctuation\"\u003e@GeneratedValue\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003estrategy \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eGenerationType\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eIDENTITY\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003eprivate\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eLong\u003c/span\u003e id\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"token annotation punctuation\"\u003e@CreatedDate\u003c/span\u003e\n    \u003cspan class=\"token annotation punctuation\"\u003e@Column\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003enullable \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token boolean\"\u003efalse\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e columnDefinition \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"timestamp default now()\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token annotation punctuation\"\u003e@JsonProperty\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eaccess \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eJsonProperty\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eAccess\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eREAD_ONLY\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token annotation punctuation\"\u003e@JsonFormat\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eshape\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eJsonFormat\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eShape\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eSTRING\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e pattern\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"yyyy-MM-dd'T'HH:mm:ss'Z'\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e timezone\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"UTC\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token class-name\"\u003eLocalDateTime\u003c/span\u003e createdAt\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"token annotation punctuation\"\u003e@LastModifiedDate\u003c/span\u003e\n    \u003cspan class=\"token annotation punctuation\"\u003e@Column\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003enullable \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token boolean\"\u003efalse\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e columnDefinition \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"timestamp default now()\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token annotation punctuation\"\u003e@JsonProperty\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eaccess \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eJsonProperty\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eAccess\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eREAD_ONLY\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token annotation punctuation\"\u003e@JsonFormat\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eshape\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eJsonFormat\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eShape\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eSTRING\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e pattern\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"yyyy-MM-dd'T'HH:mm:ss'Z'\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e timezone\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"UTC\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token class-name\"\u003eLocalDateTime\u003c/span\u003e updatedAt\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003ePuis je définis ma classe Vehicle :\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-java\"\u003e\u003ccode class=\"language-java\"\u003e\u003cspan class=\"token annotation punctuation\"\u003e@Entity\u003c/span\u003e\n\u003cspan class=\"token annotation punctuation\"\u003e@Data\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eVehicle\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eEntityAbstract\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\n    \u003cspan class=\"token annotation punctuation\"\u003e@NotEmpty\u003c/span\u003e\n    \u003cspan class=\"token annotation punctuation\"\u003e@Column\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003enullable \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token boolean\"\u003efalse\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token class-name\"\u003eString\u003c/span\u003e registrationPlate\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"token annotation punctuation\"\u003e@NotEmpty\u003c/span\u003e\n    \u003cspan class=\"token annotation punctuation\"\u003e@Column\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003enullable \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token boolean\"\u003efalse\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token class-name\"\u003eString\u003c/span\u003e model\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"token annotation punctuation\"\u003e@NotEmpty\u003c/span\u003e\n    \u003cspan class=\"token annotation punctuation\"\u003e@Column\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003enullable \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token boolean\"\u003efalse\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token class-name\"\u003eString\u003c/span\u003e brand\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n\t\t\u003cspan class=\"token annotation punctuation\"\u003e@NotEmpty\u003c/span\u003e\n    \u003cspan class=\"token annotation punctuation\"\u003e@Column\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003enullable \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token boolean\"\u003efalse\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token class-name\"\u003eString\u003c/span\u003e serialNumber\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eEnfin nous définirons un Controller qui permettra d’accéder aux données à l’aide d’un service de récupération des données avec une route utilisateur ainsi qu’une route Admin :\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-java\"\u003e\u003ccode class=\"language-java\"\u003e\u003cspan class=\"token annotation punctuation\"\u003e@RestController\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eVehicleController\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token annotation punctuation\"\u003e@Autowired\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003eprivate\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eVehicleService\u003c/span\u003e vehicleService\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"token annotation punctuation\"\u003e@GetMapping\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"/vehicle/list\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eList\u003c/span\u003e\u003cspan class=\"token generics\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eVehicle\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token function\"\u003elistVehicles\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e vehicleService\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003elistVehicles\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n    \u003cspan class=\"token annotation punctuation\"\u003e@GetMapping\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"/admin/vehicle/list\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eList\u003c/span\u003e\u003cspan class=\"token generics\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eVehicle\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token function\"\u003eadminListVehicles\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e vehicleService\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003elistVehicles\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003ePour le moment, le rendu des données est exactement le même, mais nous allons voir par la suite comment “filter” les données.\u003c/p\u003e\n\u003ch1\u003eJackson à la rescousse!\u003c/h1\u003e\n\u003cp\u003ePour filtrer les données, nous allons utiliser une fonctionnalité de la librairie Jackson, les JsonView!\u003c/p\u003e\n\u003cp\u003eNous devons définir une classe contenant des interfaces qui correspondent aux niveau des filtres de notre API :\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-java\"\u003e\u003ccode class=\"language-java\"\u003e\u003cspan class=\"token doc-comment comment\"\u003e/**\u003c/span\u003e\n\u003cspan class=\"token doc-comment comment\"\u003e * Json view filter\u003c/span\u003e\n\u003cspan class=\"token doc-comment comment\"\u003e */\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eJsonViews\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\t  \u003cspan class=\"token keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"token keyword\"\u003einterface\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eCreate\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"token keyword\"\u003einterface\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eUpdate\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eCreate\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"token keyword\"\u003einterface\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eSummary\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eUpdate\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"token keyword\"\u003einterface\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eAdmin\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eSummary\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eLe niveau “\u003cstrong\u003eCreate”\u003c/strong\u003e correspond aux attributs visibles pour la création d’un objet, “\u003cstrong\u003eUpdate”\u003c/strong\u003e étend du filtre précédent et permettra de filtrer uniquement les attributs qui peuvent être mis à jour. \u003cstrong\u003e“Summary”,\u003c/strong\u003e étend des propriété de \u003cstrong\u003e“Create”\u003c/strong\u003e et \u003cstrong\u003e”Update”.\u003c/strong\u003e Enfin “\u003cstrong\u003eAdmin”\u003c/strong\u003e permet de visualiser ou de mettre à jour des attributs uniquement accessibles aux Administrateurs.\u003c/p\u003e\n\u003cp\u003eCette fonctionnalité sert non seulement au rendu d’un JSON, que lorsque l’API consomme le Body d’une requête.\u003c/p\u003e\n\u003cp\u003eNous allons mettre à jour l’entité pour que les attributs soient filtrés correctement par l’API :\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-java\"\u003e\u003ccode class=\"language-java\"\u003e\u003cspan class=\"token annotation punctuation\"\u003e@MappedSuperclass\u003c/span\u003e\n\u003cspan class=\"token annotation punctuation\"\u003e@Data\u003c/span\u003e\n\u003cspan class=\"token annotation punctuation\"\u003e@SuperBuilder\u003c/span\u003e\n\u003cspan class=\"token annotation punctuation\"\u003e@NoArgsConstructor\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eabstract\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eEntityAbstract\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\n    \u003cspan class=\"token annotation punctuation\"\u003e@Id\u003c/span\u003e\n    \u003cspan class=\"token annotation punctuation\"\u003e@GeneratedValue\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003estrategy\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eGenerationType\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eAUTO\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token annotation punctuation\"\u003e@JsonView\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eJsonViews\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eUpdate\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token keyword\"\u003eclass\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003eprivate\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eInteger\u003c/span\u003e id\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"token annotation punctuation\"\u003e@CreatedDate\u003c/span\u003e\n    \u003cspan class=\"token annotation punctuation\"\u003e@Column\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003enullable \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token boolean\"\u003efalse\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e columnDefinition \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"timestamp default CURRENT_TIMESTAMP\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token annotation punctuation\"\u003e@JsonProperty\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eaccess \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eJsonProperty\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eAccess\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eREAD_ONLY\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token annotation punctuation\"\u003e@JsonFormat\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eshape\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eJsonFormat\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eShape\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eSTRING\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e pattern\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"yyyy-MM-dd'T'HH:mm:ss'Z'\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e timezone\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"UTC\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token annotation punctuation\"\u003e@JsonView\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eJsonViews\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eAdmin\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token keyword\"\u003eclass\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token class-name\"\u003eLocalDateTime\u003c/span\u003e createdAt\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"token annotation punctuation\"\u003e@LastModifiedDate\u003c/span\u003e\n    \u003cspan class=\"token annotation punctuation\"\u003e@Column\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003enullable \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token boolean\"\u003efalse\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e columnDefinition \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"timestamp default CURRENT_TIMESTAMP\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token annotation punctuation\"\u003e@JsonProperty\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eaccess \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eJsonProperty\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eAccess\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eREAD_ONLY\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token annotation punctuation\"\u003e@JsonFormat\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eshape\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eJsonFormat\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eShape\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eSTRING\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e pattern\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"yyyy-MM-dd'T'HH:mm:ss'Z'\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e timezone\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"UTC\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token annotation punctuation\"\u003e@JsonView\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eJsonViews\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eAdmin\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token keyword\"\u003eclass\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token class-name\"\u003eLocalDateTime\u003c/span\u003e updatedAt\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-java\"\u003e\u003ccode class=\"language-java\"\u003e\u003cspan class=\"token annotation punctuation\"\u003e@Entity\u003c/span\u003e\n\u003cspan class=\"token annotation punctuation\"\u003e@Data\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eVehicle\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eextends\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eEntityAbstract\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\n    \u003cspan class=\"token annotation punctuation\"\u003e@NotEmpty\u003c/span\u003e\n    \u003cspan class=\"token annotation punctuation\"\u003e@Column\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003enullable \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token boolean\"\u003efalse\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token annotation punctuation\"\u003e@JsonView\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eJsonViews\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eCreate\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token keyword\"\u003eclass\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token class-name\"\u003eString\u003c/span\u003e registrationPlate\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"token annotation punctuation\"\u003e@NotEmpty\u003c/span\u003e\n    \u003cspan class=\"token annotation punctuation\"\u003e@Column\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003enullable \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token boolean\"\u003efalse\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token annotation punctuation\"\u003e@JsonView\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eJsonViews\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eCreate\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token keyword\"\u003eclass\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token class-name\"\u003eString\u003c/span\u003e model\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"token annotation punctuation\"\u003e@NotEmpty\u003c/span\u003e\n    \u003cspan class=\"token annotation punctuation\"\u003e@Column\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003enullable \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token boolean\"\u003efalse\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token annotation punctuation\"\u003e@JsonView\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eJsonViews\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eCreate\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token keyword\"\u003eclass\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token class-name\"\u003eString\u003c/span\u003e brand\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"token annotation punctuation\"\u003e@NotEmpty\u003c/span\u003e\n    \u003cspan class=\"token annotation punctuation\"\u003e@Column\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003enullable \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token boolean\"\u003efalse\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token annotation punctuation\"\u003e@JsonView\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eJsonViews\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eCreate\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token keyword\"\u003eclass\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token class-name\"\u003eString\u003c/span\u003e serialNumber\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eEnfin nous pouvons l’utiliser dans le controller :\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-java\"\u003e\u003ccode class=\"language-java\"\u003e\u003cspan class=\"token annotation punctuation\"\u003e@RestController\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eVehicleController\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token annotation punctuation\"\u003e@Autowired\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003eprivate\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eVehicleService\u003c/span\u003e vehicleService\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n\t\t\u003cspan class=\"token doc-comment comment\"\u003e/**\u003c/span\u003e\n\u003cspan class=\"token doc-comment comment\"\u003e     * List véhicles\u003c/span\u003e\n\u003cspan class=\"token doc-comment comment\"\u003e     */\u003c/span\u003e\n    \u003cspan class=\"token annotation punctuation\"\u003e@GetMapping\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"/vehicle/list\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token annotation punctuation\"\u003e@JsonView\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eJsonViews\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eSummary\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token keyword\"\u003eclass\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eList\u003c/span\u003e\u003cspan class=\"token generics\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eVehicle\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token function\"\u003elistVehicles\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e vehicleService\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003elistVehicles\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n\t\t\u003cspan class=\"token doc-comment comment\"\u003e/**\u003c/span\u003e\n\u003cspan class=\"token doc-comment comment\"\u003e     * List vehicles (Admin)\u003c/span\u003e\n\u003cspan class=\"token doc-comment comment\"\u003e     */\u003c/span\u003e\n    \u003cspan class=\"token annotation punctuation\"\u003e@GetMapping\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"/admin/vehicle/list\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token annotation punctuation\"\u003e@JsonView\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eJsonViews\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eSummary\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token keyword\"\u003eclass\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eList\u003c/span\u003e\u003cspan class=\"token generics\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eVehicle\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token function\"\u003eadminListVehicles\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e vehicleService\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003elistVehicles\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n\t\t\u003cspan class=\"token doc-comment comment\"\u003e/**\u003c/span\u003e\n\u003cspan class=\"token doc-comment comment\"\u003e     * Create vehicle (Admin)\u003c/span\u003e\n\u003cspan class=\"token doc-comment comment\"\u003e     */\u003c/span\u003e\n    \u003cspan class=\"token annotation punctuation\"\u003e@PostMapping\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"/admin/vehicle\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token annotation punctuation\"\u003e@JsonView\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eJsonViews\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eAdmin\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token keyword\"\u003eclass\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eVehicle\u003c/span\u003e \u003cspan class=\"token function\"\u003epostAdminVehicle\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token annotation punctuation\"\u003e@JsonView\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eJsonViews\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eCreate\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token keyword\"\u003eclass\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eVehicle\u003c/span\u003e vehicle\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e vehicleService\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003ecreateVehicle\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003evehicle\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n\t\t\u003cspan class=\"token doc-comment comment\"\u003e/**\u003c/span\u003e\n\u003cspan class=\"token doc-comment comment\"\u003e     * Update vehicle (Admin)\u003c/span\u003e\n\u003cspan class=\"token doc-comment comment\"\u003e     */\u003c/span\u003e\n    \u003cspan class=\"token annotation punctuation\"\u003e@PutMapping\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"/admin/vehicle\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token annotation punctuation\"\u003e@JsonView\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eJsonViews\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eAdmin\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token keyword\"\u003eclass\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eVehicle\u003c/span\u003e \u003cspan class=\"token function\"\u003eputAdminVehicle\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token annotation punctuation\"\u003e@JsonView\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eJsonViews\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eUpdate\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token keyword\"\u003eclass\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eVehicle\u003c/span\u003e vehicle\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n        \u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e vehicleService\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eupdateVehicle\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003evehicle\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003ch1\u003eRésultat\u003c/h1\u003e\n\u003ch2\u003eListe des véhicules (Vue utilisateur)\u003c/h2\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-bash\"\u003e\u003ccode class=\"language-bash\"\u003e~ \u003cspan class=\"token function\"\u003ecurl\u003c/span\u003e http://localhost:8080/vehicle/list\n\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"id\"\u003c/span\u003e:1,\u003cspan class=\"token string\"\u003e\"registrationPlate\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"AA-205-AA\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"model\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"205\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"brand\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"PEUGEOT\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"serialNumber\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"3KX9YLH2K980HNYYS1YZ\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e,\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"id\"\u003c/span\u003e:2,\u003cspan class=\"token string\"\u003e\"registrationPlate\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"AA-206-AA\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"model\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"206\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"brand\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"PEUGEOT\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"serialNumber\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"VST52ASAH145TIZGJ3LC\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e,\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"id\"\u003c/span\u003e:3,\u003cspan class=\"token string\"\u003e\"registrationPlate\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"AA-207-AA\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"model\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"207\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"brand\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"PEUGEOT\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"serialNumber\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"JI0BNW8D1HYGPFAECEPJ\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e,\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"id\"\u003c/span\u003e:4,\u003cspan class=\"token string\"\u003e\"registrationPlate\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"AA-208-AA\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"model\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"208\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"brand\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"PEUGEOT\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"serialNumber\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"LN97FF02UWRJYRAEGFL5\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e,\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"id\"\u003c/span\u003e:5,\u003cspan class=\"token string\"\u003e\"registrationPlate\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"AA-106-AA\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"model\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"106\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"brand\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"PEUGEOT\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"serialNumber\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"R94DJ8P5PT7M6PB5DP5B\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e,\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"id\"\u003c/span\u003e:6,\u003cspan class=\"token string\"\u003e\"registrationPlate\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"AA-107-AA\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"model\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"107\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"brand\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"PEUGEOT\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"serialNumber\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"OJHHEW2SP2KJDU3CZLFO\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e,\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"id\"\u003c/span\u003e:7,\u003cspan class=\"token string\"\u003e\"registrationPlate\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"AA-108-AA\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"model\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"108\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"brand\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"PEUGEOT\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"serialNumber\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"49LUMOTWMOQSNHK09MR3\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e,\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"id\"\u003c/span\u003e:8,\u003cspan class=\"token string\"\u003e\"registrationPlate\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"AA-306-AA\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"model\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"306\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"brand\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"PEUGEOT\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"serialNumber\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"0KBBBHVTZN9P66I8TVGT\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e,\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"id\"\u003c/span\u003e:9,\u003cspan class=\"token string\"\u003e\"registrationPlate\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"AA-307-AA\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"model\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"307\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"brand\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"PEUGEOT\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"serialNumber\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"TK0GX92MY29AR0H9ZYIB\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e,\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"id\"\u003c/span\u003e:10,\u003cspan class=\"token string\"\u003e\"registrationPlate\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"AA-308-AA\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"model\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"308\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"brand\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"PEUGEOT\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"serialNumber\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"EKNPA002KCQXYAUX04AV\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e,\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"id\"\u003c/span\u003e:11,\u003cspan class=\"token string\"\u003e\"registrationPlate\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"AA-309-AA\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"model\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"309\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"brand\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"PEUGEOT\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"serialNumber\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"D1788D08RU0AU3O5BVXR\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e,\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"id\"\u003c/span\u003e:12,\u003cspan class=\"token string\"\u003e\"registrationPlate\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"AA-405-AA\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"model\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"405\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"brand\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"PEUGEOT\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"serialNumber\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"PHU0M7NKZ799D64VBVJ8\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e,\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"id\"\u003c/span\u003e:13,\u003cspan class=\"token string\"\u003e\"registrationPlate\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"AA-406-AA\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"model\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"406\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"brand\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"PEUGEOT\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"serialNumber\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"NAD3F2ULL5TY4QCECLAO\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e,\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"id\"\u003c/span\u003e:14,\u003cspan class=\"token string\"\u003e\"registrationPlate\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"AA-407-AA\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"model\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"407\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"brand\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"PEUGEOT\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"serialNumber\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"C842THXCOBFFZ0O5U0YK\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e,\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"id\"\u003c/span\u003e:15,\u003cspan class=\"token string\"\u003e\"registrationPlate\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"AA-508-AA\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"model\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"508\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"brand\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"PEUGEOT\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"serialNumber\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"F0T2ELSQ0VPRF1NBY8XH\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e,\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"id\"\u003c/span\u003e:16,\u003cspan class=\"token string\"\u003e\"registrationPlate\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"AA-407-AA\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"model\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"407\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"brand\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"PEUGEOT\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"serialNumber\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"WEBVP95ON3HDX0TGPFXB\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e,\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"id\"\u003c/span\u003e:17,\u003cspan class=\"token string\"\u003e\"registrationPlate\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"AA-508-AA\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"model\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"508\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"brand\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"PEUGEOT\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"serialNumber\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"TEZ3D70UDBY8UKHRKSYY\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e,\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"id\"\u003c/span\u003e:18,\u003cspan class=\"token string\"\u003e\"registrationPlate\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"AA-605-AA\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"model\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"605\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"brand\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"PEUGEOT\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"serialNumber\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"WIGYNFTWH0Q6E85Z2HA2\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e,\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"id\"\u003c/span\u003e:19,\u003cspan class=\"token string\"\u003e\"registrationPlate\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"AA-607-AA\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"model\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"607\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"brand\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"PEUGEOT\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"serialNumber\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"OLI3JCTF82WUQK14Z295\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003ch2\u003eListe des Véhicules (Vue Admin)\u003c/h2\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-bash\"\u003e\u003ccode class=\"language-bash\"\u003e~ \u003cspan class=\"token function\"\u003ecurl\u003c/span\u003e http://localhost:8080/admin/vehicle/list\n\u003cspan class=\"token punctuation\"\u003e[\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"id\"\u003c/span\u003e:1,\u003cspan class=\"token string\"\u003e\"createdAt\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"2022-02-28T14:32:13Z\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"updatedAt\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"2022-02-28T14:32:13Z\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"registrationPlate\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"AA-205-AA\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"model\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"205\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"brand\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"PEUGEOT\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"serialNumber\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"3KX9YLH2K980HNYYS1YZ\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e,\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"id\"\u003c/span\u003e:2,\u003cspan class=\"token string\"\u003e\"createdAt\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"2022-02-28T14:32:13Z\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"updatedAt\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"2022-02-28T14:32:13Z\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"registrationPlate\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"AA-206-AA\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"model\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"206\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"brand\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"PEUGEOT\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"serialNumber\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"VST52ASAH145TIZGJ3LC\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e,\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"id\"\u003c/span\u003e:3,\u003cspan class=\"token string\"\u003e\"createdAt\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"2022-02-28T14:32:13Z\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"updatedAt\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"2022-02-28T14:32:13Z\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"registrationPlate\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"AA-207-AA\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"model\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"207\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"brand\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"PEUGEOT\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"serialNumber\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"JI0BNW8D1HYGPFAECEPJ\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e,\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"id\"\u003c/span\u003e:4,\u003cspan class=\"token string\"\u003e\"createdAt\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"2022-02-28T14:32:13Z\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"updatedAt\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"2022-02-28T14:32:13Z\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"registrationPlate\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"AA-208-AA\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"model\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"208\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"brand\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"PEUGEOT\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"serialNumber\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"LN97FF02UWRJYRAEGFL5\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e,\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"id\"\u003c/span\u003e:5,\u003cspan class=\"token string\"\u003e\"createdAt\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"2022-02-28T14:32:13Z\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"updatedAt\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"2022-02-28T14:32:13Z\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"registrationPlate\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"AA-106-AA\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"model\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"106\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"brand\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"PEUGEOT\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"serialNumber\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"R94DJ8P5PT7M6PB5DP5B\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e,\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"id\"\u003c/span\u003e:6,\u003cspan class=\"token string\"\u003e\"createdAt\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"2022-02-28T14:32:13Z\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"updatedAt\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"2022-02-28T14:32:13Z\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"registrationPlate\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"AA-107-AA\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"model\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"107\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"brand\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"PEUGEOT\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"serialNumber\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"OJHHEW2SP2KJDU3CZLFO\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e,\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"id\"\u003c/span\u003e:7,\u003cspan class=\"token string\"\u003e\"createdAt\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"2022-02-28T14:32:13Z\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"updatedAt\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"2022-02-28T14:32:13Z\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"registrationPlate\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"AA-108-AA\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"model\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"108\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"brand\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"PEUGEOT\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"serialNumber\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"49LUMOTWMOQSNHK09MR3\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e,\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"id\"\u003c/span\u003e:8,\u003cspan class=\"token string\"\u003e\"createdAt\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"2022-02-28T14:32:13Z\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"updatedAt\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"2022-02-28T14:32:13Z\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"registrationPlate\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"AA-306-AA\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"model\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"306\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"brand\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"PEUGEOT\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"serialNumber\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"0KBBBHVTZN9P66I8TVGT\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e,\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"id\"\u003c/span\u003e:9,\u003cspan class=\"token string\"\u003e\"createdAt\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"2022-02-28T14:32:13Z\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"updatedAt\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"2022-02-28T14:32:13Z\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"registrationPlate\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"AA-307-AA\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"model\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"307\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"brand\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"PEUGEOT\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"serialNumber\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"TK0GX92MY29AR0H9ZYIB\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e,\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"id\"\u003c/span\u003e:10,\u003cspan class=\"token string\"\u003e\"createdAt\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"2022-02-28T14:32:13Z\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"updatedAt\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"2022-02-28T14:32:13Z\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"registrationPlate\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"AA-308-AA\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"model\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"308\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"brand\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"PEUGEOT\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"serialNumber\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"EKNPA002KCQXYAUX04AV\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e,\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"id\"\u003c/span\u003e:11,\u003cspan class=\"token string\"\u003e\"createdAt\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"2022-02-28T14:32:13Z\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"updatedAt\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"2022-02-28T14:32:13Z\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"registrationPlate\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"AA-309-AA\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"model\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"309\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"brand\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"PEUGEOT\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"serialNumber\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"D1788D08RU0AU3O5BVXR\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e,\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"id\"\u003c/span\u003e:12,\u003cspan class=\"token string\"\u003e\"createdAt\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"2022-02-28T14:32:13Z\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"updatedAt\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"2022-02-28T14:32:13Z\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"registrationPlate\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"AA-405-AA\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"model\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"405\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"brand\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"PEUGEOT\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"serialNumber\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"PHU0M7NKZ799D64VBVJ8\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e,\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"id\"\u003c/span\u003e:13,\u003cspan class=\"token string\"\u003e\"createdAt\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"2022-02-28T14:32:13Z\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"updatedAt\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"2022-02-28T14:32:13Z\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"registrationPlate\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"AA-406-AA\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"model\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"406\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"brand\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"PEUGEOT\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"serialNumber\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"NAD3F2ULL5TY4QCECLAO\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e,\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"id\"\u003c/span\u003e:14,\u003cspan class=\"token string\"\u003e\"createdAt\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"2022-02-28T14:32:13Z\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"updatedAt\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"2022-02-28T14:32:13Z\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"registrationPlate\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"AA-407-AA\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"model\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"407\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"brand\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"PEUGEOT\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"serialNumber\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"C842THXCOBFFZ0O5U0YK\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e,\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"id\"\u003c/span\u003e:15,\u003cspan class=\"token string\"\u003e\"createdAt\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"2022-02-28T14:32:13Z\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"updatedAt\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"2022-02-28T14:32:13Z\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"registrationPlate\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"AA-508-AA\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"model\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"508\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"brand\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"PEUGEOT\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"serialNumber\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"F0T2ELSQ0VPRF1NBY8XH\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e,\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"id\"\u003c/span\u003e:16,\u003cspan class=\"token string\"\u003e\"createdAt\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"2022-02-28T14:32:13Z\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"updatedAt\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"2022-02-28T14:32:13Z\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"registrationPlate\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"AA-407-AA\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"model\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"407\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"brand\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"PEUGEOT\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"serialNumber\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"WEBVP95ON3HDX0TGPFXB\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e,\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"id\"\u003c/span\u003e:17,\u003cspan class=\"token string\"\u003e\"createdAt\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"2022-02-28T14:32:13Z\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"updatedAt\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"2022-02-28T14:32:13Z\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"registrationPlate\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"AA-508-AA\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"model\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"508\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"brand\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"PEUGEOT\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"serialNumber\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"TEZ3D70UDBY8UKHRKSYY\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e,\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"id\"\u003c/span\u003e:18,\u003cspan class=\"token string\"\u003e\"createdAt\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"2022-02-28T14:32:13Z\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"updatedAt\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"2022-02-28T14:32:13Z\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"registrationPlate\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"AA-605-AA\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"model\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"605\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"brand\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"PEUGEOT\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"serialNumber\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"WIGYNFTWH0Q6E85Z2HA2\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e,\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"id\"\u003c/span\u003e:19,\u003cspan class=\"token string\"\u003e\"createdAt\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"2022-02-28T14:32:13Z\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"updatedAt\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"2022-02-28T14:32:13Z\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"registrationPlate\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"AA-607-AA\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"model\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"607\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"brand\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"PEUGEOT\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"serialNumber\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"OLI3JCTF82WUQK14Z295\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e]\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003ch2\u003eCréation de véhicule\u003c/h2\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-bash\"\u003e\u003ccode class=\"language-bash\"\u003e~ \u003cspan class=\"token function\"\u003ecurl\u003c/span\u003e --location --request POST \u003cspan class=\"token string\"\u003e'localhost:8080/admin/vehicle'\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e\\\u003c/span\u003e\n--header \u003cspan class=\"token string\"\u003e'Content-Type: application/json'\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e\\\u003c/span\u003e\n--data-raw \u003cspan class=\"token string\"\u003e'{\u003c/span\u003e\n\u003cspan class=\"token string\"\u003e    \"brand\": \"VolksWagen\",\u003c/span\u003e\n\u003cspan class=\"token string\"\u003e    \"model\": \"Golf\",\u003c/span\u003e\n\u003cspan class=\"token string\"\u003e    \"serialNumber\": \"VWVWVWVWVWVWVW\",\u003c/span\u003e\n\u003cspan class=\"token string\"\u003e    \"registrationPlate\": \"GO-123-LF\"\u003c/span\u003e\n\u003cspan class=\"token string\"\u003e}'\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"id\"\u003c/span\u003e:20,\u003cspan class=\"token string\"\u003e\"createdAt\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"2022-02-28T15:34:03Z\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"updatedAt\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"2022-02-28T15:34:03Z\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"registrationPlate\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"GO-123-LF\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"model\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"Golf\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"brand\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"VolksWagen\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"serialNumber\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"VWVWVWVWVWVWVW\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003ch2\u003eMise a jour de véhicule\u003c/h2\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-bash\"\u003e\u003ccode class=\"language-bash\"\u003e~ \u003cspan class=\"token function\"\u003ecurl\u003c/span\u003e --location --request PUT \u003cspan class=\"token string\"\u003e'localhost:8080/admin/vehicle'\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e\\\u003c/span\u003e\n--header \u003cspan class=\"token string\"\u003e'Content-Type: application/json'\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e\\\u003c/span\u003e\n--data-raw \u003cspan class=\"token string\"\u003e'{\u003c/span\u003e\n\u003cspan class=\"token string\"\u003e    \"id\": 20,\u003c/span\u003e\n\u003cspan class=\"token string\"\u003e    \"brand\": \"VolksWagen\",\u003c/span\u003e\n\u003cspan class=\"token string\"\u003e    \"model\": \"Golf SW\",\u003c/span\u003e\n\u003cspan class=\"token string\"\u003e    \"serialNumber\": \"VWVWVWVWVWVWVW\",\u003c/span\u003e\n\u003cspan class=\"token string\"\u003e    \"registrationPlate\": \"GO-123-LF\"\u003c/span\u003e\n\u003cspan class=\"token string\"\u003e}'\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"id\"\u003c/span\u003e:20,\u003cspan class=\"token string\"\u003e\"createdAt\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"2022-02-28T15:40:55Z\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"updatedAt\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"2022-02-28T15:40:55Z\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"registrationPlate\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"GO-123-LF\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"model\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"Golf SW\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"brand\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"VolksWagen\"\u003c/span\u003e,\u003cspan class=\"token string\"\u003e\"serialNumber\"\u003c/span\u003e\u003cspan class=\"token builtin class-name\"\u003e:\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"VWVWVWVWVWVWVW\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eVous pouvez retrouver le github du projet ici : \u003ca href=\"https://dev.to/giboow/springboot-contextualizing-serialization-29mp\"\u003ehttps://dev.to/giboow/springboot-contextualizing-serialization-29mp\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eCrédit photo : https://unsplash.com/photos/WVl1N2C2zEA\u003c/p\u003e\n"},{"id":"comment-transcoder-une-video-avec-springboot-et-ffmpeg","author":"giboow","title":"Comment construire un transcodeur vidéo avec SpringBoot et FFMPEG !","date":"2021-10-12","keywords":["Video","Transcoder","SpringBoot","FFMpeg","Java"],"image":"/static/images/post/proxy-transcoder-ffmpeg/main.jpg","contentHtml":"\u003cp\u003eJ'ai récemment commencé à travailler sur un système de caméras de surveillance et je souhaite pouvoir afficher les vidéos collectées sur des pages Web.\nÀ première vue, cela semblait très facile, mais je me suis vite rendu compte que je devais me creuser la tête!\u003c/p\u003e\n\u003ch1\u003eComment cela doit fonctionner?\u003c/h1\u003e\n\u003cp\u003eLa caméra est connectée à un NVR (Numeric Video recorder) qui possède une API permettant de récupérer les informations de configuration et le flux vidéo. En cherchant un peu sur le Web (Oui la documentation est difficile d'accès..), je découvre que le protocole de communication utilisé par le NVR est le RTSP (Real-Time Streaming Protocol). C'est là que je rencontre le principal problème ! Comment utiliser ce protocole dans une page HTML qui ne le supporte pas ? Ma solution est d'utiliser un serveur qui permet de transcoder la vidéo dans un format plus connu (MP4) et un protocole ultra standard (Http). Cela me permettra également de cacher les identifiants d'accès à la caméra en utilisant mon serveur comme un proxy.\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://giboow.fr/static/images/post/proxy-transcoder-ffmpeg/graph-ffmpeg-transcoder.png\" alt=\"Graph it should work\"\u003e\u003c/p\u003e\n\u003ch1\u003eAlors comment on fait ça?\u003c/h1\u003e\n\u003cp\u003eUn excellent outil bien connu pour faire de la conversion vidéo est \u003ca href=\"https://www.ffmpeg.org/\"\u003eFFMPeg\u003c/a\u003e, donc je commence à regarder comment je peux l'utiliser pour convertir RSTP. Je trouve rapidement une ligne de commande qui fonctionne :\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-bash\"\u003e\u003ccode class=\"language-bash\"\u003effmpeg -y -loglevel level+info -n -re -acodec pcm_s16le -rtsp_transport tcp -i rtsp://user:passwd@192.168.1.200:554/ISAPI/Streaming/channels/101/live -vcodec copy -af \u003cspan class=\"token assign-left variable\"\u003easetrate\u003c/span\u003e\u003cspan class=\"token operator\"\u003e=\u003c/span\u003e\u003cspan class=\"token number\"\u003e22050\u003c/span\u003e -acodec aac -b:a 96k -nostdin myvideo.mp4\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eAlors comment faire un proxy avec SpringBoot ? C'est très simple en fait, il suffit d'utiliser l'objet \u003ca href=\"https://docs.spring.io/spring-framework/docs/current/javadoc-api/org/springframework/web/servlet/mvc/method/annotation/StreamingResponseBody.html\"\u003eStreamingResponseBody\u003c/a\u003e. Cela permet de renvoyer un traitement asynchrone de la requête, où l'application peut écrire directement sur le flux de sortie de la réponse sans bloquer le reste de mon API.\u003c/p\u003e\n\u003cp\u003eEnfin, il me suffit d'utiliser FFMPEG dans mon contrôleur pour envoyer le flux via mon API. J'aurais pu utiliser \" Runtime.getRuntime().exec(\" ffmpeg...) \" mais je n'arrivais pas à trouver comment obtenir mon flux. Heureusement, j'ai trouvé une bibliothèque magique \u003ca href=\"https://github.com/kokorin/Jaffree\"\u003eJaffree\u003c/a\u003e : \"Jaffree stands for JAva FFmpeg and FFprobe FREE command line wrapper. Jaffree supports programmatic video production and consumption (with transparency)\"\u003c/p\u003e\n\u003ch1\u003eLa solution\u003c/h1\u003e\n\u003cp\u003eVoici la solution finale et comment relayer un flux vidéo provenant d'une caméra HikVision afin que le format soit utilisable par une page HTML.\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-java\"\u003e\u003ccode class=\"language-java\"\u003e\u003cspan class=\"token keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"token namespace\"\u003ecom\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003egithub\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003ekokorin\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003ejaffree\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eStreamType\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"token namespace\"\u003ecom\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003egithub\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003ekokorin\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003ejaffree\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003effmpeg\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eFFmpeg\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003eimport\u003c/span\u003e \u003cspan class=\"token namespace\"\u003ecom\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003egithub\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003ekokorin\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003ejaffree\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003effmpeg\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token class-name\"\u003ePipeOutput\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n\u003cspan class=\"token annotation punctuation\"\u003e@RestController\u003c/span\u003e\n\u003cspan class=\"token annotation punctuation\"\u003e@RequestMapping\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"/video\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n\u003cspan class=\"token annotation punctuation\"\u003e@Log4j2\u003c/span\u003e\n\u003cspan class=\"token keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eVideoController\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n    \u003cspan class=\"token annotation punctuation\"\u003e@GetMapping\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003evalue \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"/live.mp4\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n    \u003cspan class=\"token annotation punctuation\"\u003e@ResponseBody\u003c/span\u003e\n    \u003cspan class=\"token keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eResponseEntity\u003c/span\u003e\u003cspan class=\"token generics\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eStreamingResponseBody\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token function\"\u003elivestream\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token annotation punctuation\"\u003e@PathVariable\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"id\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eLong\u003c/span\u003e tipperId\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token keyword\"\u003ethrows\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eException\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\n        \u003cspan class=\"token class-name\"\u003eString\u003c/span\u003e rtspUrl \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"rtsp://user:passwd@192.168.1.200:554/ISAPI/Streaming/channels/101/live\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n        \u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eResponseEntity\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eok\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003econtentType\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eMediaType\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eAPPLICATION_OCTET_STREAM\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n                \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003ebody\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eos \u003cspan class=\"token operator\"\u003e-\u003e\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n                    \u003cspan class=\"token class-name\"\u003eFFmpeg\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eatPath\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n                            \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eaddArgument\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"-re\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n                            \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eaddArguments\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"-acodec\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"pcm_s16le\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n                            \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eaddArguments\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"-rtsp_transport\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"tcp\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n                            \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eaddArguments\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"-i\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e $rtspUrl\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n                            \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eaddArguments\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"-vcodec\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"copy\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n                            \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eaddArguments\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"-af\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"asetrate=22050\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n                            \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eaddArguments\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"-acodec\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"aac\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n                            \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eaddArguments\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"-b:a\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token string\"\u003e\"96k\"\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n                            \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eaddOutput\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token class-name\"\u003ePipeOutput\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003epumpTo\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003eos\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n                                    \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003edisableStream\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eStreamType\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eAUDIO\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n                                    \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003edisableStream\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eStreamType\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eSUBTITLE\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n                                    \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003edisableStream\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eStreamType\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eDATA\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n                                    \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003esetFrameCount\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eStreamType\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eVIDEO\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token number\"\u003e100L\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n                                     \u003cspan class=\"token comment\"\u003e//1 frame every 10 seconds\u003c/span\u003e\n                                    \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003esetFrameRate\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e0.1\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n                                    \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003esetDuration\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token number\"\u003e1\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eTimeUnit\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eHOURS\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n                                    \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003esetFormat\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"ismv\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n                            \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eaddArgument\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token string\"\u003e\"-nostdin\"\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\n                            \u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003e\u003cspan class=\"token function\"\u003eexecute\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n                \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\n    \u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eVous devrez également modifier la configuration de votre application SpringBoot (fichier application.properties) pour augmenter le délai d'attente pour les requêtes asynchrones.\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-html\"\u003e\u003ccode class=\"language-html\"\u003espring.mvc.async.request-timeout = 3600000\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eIl vous suffit d'appeler votre API sur la page web :\u003c/p\u003e\n\u003cdiv class=\"remark-highlight\"\u003e\u003cpre class=\"language-html\"\u003e\u003ccode class=\"language-html\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003ediv\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003eclass\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003evideo\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n  \u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003evideo\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003ewidth\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e100%\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003eheight\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003eauto\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003econtrols\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003eautoplay\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003emuted\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003eloop\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003e*ngIf\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003eevent?.video\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n    \u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;\u003c/span\u003esource\u003c/span\u003e \u003cspan class=\"token attr-name\"\u003esrc\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003ehttp://localhost:8080/video/live.mp4\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e\n            \u003cspan class=\"token attr-name\"\u003etype\u003c/span\u003e\u003cspan class=\"token attr-value\"\u003e\u003cspan class=\"token punctuation attr-equals\"\u003e=\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003evideo/mp4\u003cspan class=\"token punctuation\"\u003e\"\u003c/span\u003e\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n    Sorry, your browser doesn't support embedded videos.\n  \u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;/\u003c/span\u003evideo\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token tag\"\u003e\u003cspan class=\"token punctuation\"\u003e\u0026#x3C;/\u003c/span\u003ediv\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e\u003e\u003c/span\u003e\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003c/div\u003e\n\u003cp\u003eEt voici le résultat :\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"https://giboow.fr/static/images/post/proxy-transcoder-ffmpeg/result-ffmpeg-transcoder.png\" alt=\"Final result\"\u003e\u003c/p\u003e\n\u003cp\u003eFacile non?\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://dev.to/giboow/how-to-build-a-video-transcoder-with-springboot-and-ffmpeg-n7p\"\u003eRetrouvez l'article anglais sur dev.to\u003c/a\u003e\u003c/p\u003e\n"},{"id":"android-emulator-apple-silicon","author":"giboow","title":"Android Emulator sur Apple Silicon, enfin une preview!","date":"2020-12-06","keywords":["Android","Android Emulator","Apple Silicon","AppleM1"],"image":"/static/images/post/android-apple.png","contentHtml":"\u003cp\u003eBonsoir à tous!\u003c/p\u003e\n\u003cp\u003eJ'ai récemment craqué pour le nouveau MacBook Pro M1! Depuis 1 semaine que je l'apprivoise, toutes les applications\nque j'utilise fonctionnent (merci Rosetta2!). Mon seul problème, en tant que developpeur mobile, est que l'Emulateur\nAndroid ne fonctionne pas. C'est\nd'ailleurs le problème de toutes les applications qui font de la virtualisation (Docker, ParallelDesktop, etc …)!\nJe dois donc utiliser un téléphone physique, et cela m'empêche de tester mes applications sur différentes versions\nd'Android.\u003c/p\u003e\n\u003cp\u003eHeureusement les ingénieurs de Google sont à fond sur le  coup et ont mis à disposition une version Preview de\nl'émulateur ici : \u003ca href=\"https://androidstudio.googleblog.com/2020/12/android-emulator-apple-silicon-preview.html\"\u003ehttps://androidstudio.googleblog.com/2020/12/android-emulator-apple-silicon-preview.html\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eEt ça fonctionne :\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/static/images/post/capture_android_emulator_preview.png\" alt=\"Capture Android preview\"\u003e\u003c/p\u003e\n\u003cp\u003ePour autant tout n'est pas parfait :\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eLes Webview ne fonctionnent pas\u003c/li\u003e\n\u003cli\u003ePas de son\u003c/li\u003e\n\u003cli\u003ePas de skin téléphone\u003c/li\u003e\n\u003cli\u003eLes codecs vidéos ne sont pas fonctionnels\u003c/li\u003e\n\u003cli\u003eLes applications ARM 32Bits ne sont pas compatibles\u003c/li\u003e\n\u003cli\u003eQuelques bugs graphiques sur les applications utilisant l'API Vulkan\u003c/li\u003e\n\u003cli\u003eUne popup apparait au démarrage de l'émulateur, indiquant qu'elle ne trouve pas ADB\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eTout est dit! Il ne reste plus qu'à tester 😃.\u003c/p\u003e\n\u003cp\u003eAmusez-vous bien!\u003c/p\u003e\n"},{"id":"comment-configurer-postgresql-avec-pgtune","author":"giboow","title":"Comment bien configurer son serveur Postgres avec PGTune","date":"2020-12-02","keywords":["Postgresql","Tunning","Performances"],"image":"/static/images/post/pgtune.png","contentHtml":"\u003cp\u003eRécemment, j'ai dû mettre le nez dans les serveurs de notre application, car nous avions des problèmes de performances\net de stabilité.\u003c/p\u003e\n\u003cp\u003ePour vous replanter le décor, l'application dont je m'occupe aujourd'hui est hébergé sur un serveur qui comprend un\nservice de base de données Postgres, un serveur d'application Java, ainsi que d'un serveur apache permettant aux\nutilisateurs de télécharger le front. Tout ça fonctionne sur le même serveur sans conteneurs. N'ayant pas installé ces\nservices moi-même, j'ai dû passer un peu de temps pour comprendre pourquoi notre serveur plantait lors de fortes\ncharges... Puis je me suis aperçu grâce à notre système de monitoring que la mémoire du serveur Postgres n'était même\npas limitée...\u003c/p\u003e\n\u003cp\u003eJe n'ai aucune connaissance sur les configurations des services Postgres, et comme je n'aime pas trop perdre de temps à\néplucher les documentations, j'ai fouillé un peu sur la toile. C'est là que j'ai découvert le travail\nde \u003ca href=\"https://github.com/le0pard\"\u003eAlexey Vasiliev (@leOpard)\u003c/a\u003e qui propose un générateur de configuration\nPostgres : \u003ca href=\"https://pgtune.leopard.in.ua/#/\"\u003ePGTune\u003c/a\u003e\u003c/p\u003e\n\u003cp\u003eIl suffit de paramétrer votre configuration en fonction des ressources que vous voulez allouer sur le serveur! Et PAF ça\nfait le ☕!\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/static/images/post/capture-pgtune.png\" alt=\"PGTune capture\"\u003e\u003c/p\u003e\n\u003cp\u003eIl ne vous reste plus qu'à injecter cette nouvelle configuration dans le fichier de configuration de votre Postgres.\u003c/p\u003e\n\u003cp\u003eDepuis que j'ai appliqué la configuration par l'utilitaire, je n'ai plus de problème de performance. Finalement, les utilisateurs sont\ncontents, et moi aussi 😃.\u003c/p\u003e\n\u003cp\u003ePour les fans de \u003ca href=\"https://www.ruby-lang.org/fr/\"\u003eRuby\u003c/a\u003e, où si cela vous amuse, vous pouvez aller consulter le code du\ngénérateur de @leOpard, les sources sont disponibles sur\nGithub : \u003ca href=\"https://github.com/le0pard/pgtune\"\u003ehttps://github.com/le0pard/pgtune\u003c/a\u003e\u003c/p\u003e\n"},{"id":"giboow-le-blog","author":"giboow","title":"Giboow, le Blog!","date":"2020-11-25","keywords":["Blog","TheBeginning","Objectifs"],"image":"/static/images/post/hello-image.webp","contentHtml":"\u003cp\u003eJe m'appelle Philippe, j'ai 36 ans, j'ai une petite famille ainsi qu'un chat et deux poules!\nJe suis développeur d'application depuis une bonne quinzaine d'années. Le développement et la technologie occupent donc\nune bonne partie de mes journées !\u003c/p\u003e\n\u003cp\u003eJ'ai toujours aimé la programmation et la logique qui en découle. J'ai commencé ma carrière au collège en 4e, lorsque\nmon grand frère m'a offert une calculatrice Casio graphique, depuis ce jour là j'ai découvert les bases de la\nprogrammation ! À 13 ans, nous avons reçu notre premier ordinateur, c'était un Apple Performa 6320, au bout d’un mois\nnous avons démonté la bête avec mon frère pour voir comment cela fonctionnait !\nJ'ai ensuite continué mon évolution tranquillement avec des pages HTML statiques, des Apple script, etc...\u003c/p\u003e\n\u003cp\u003ePendant mes\nétudes j'ai beaucoup travaillé sur Linux j'ai donc une bonne connaissance de ce système et de son fonctionnement, je ne\nsuis cependant pas un expert (mais je me débrouille toujours 😃).\u003c/p\u003e\n\u003cp\u003eEn 2009, j'ai commencé ma carrière professionnelle. J'ai toujours voulu naviguer sur différents projets, apprendre de\nnouvelles choses. Je déteste le fait d'être considéré comme un expert dans une technologie précise. J'aime apprendre de\nnouvelles choses, maitriser l'ensemble de mes projets, et de partager mes connaissances avec mes amis, mes collègues,\nvous !\u003c/p\u003e\n\u003cp\u003eSur ce blog conçut et réaliser avec ♥, je vais essayer de vous partager mon quotidien (du code, du code, du code!!),\nmais aussi tout ce que je trouve intéressant sur la toile et relatif a mon métier (application, librairies, hardware,\nnews, etc.) !\u003c/p\u003e\n\u003cp\u003eCe site va être aussi pour moi, un bon moyen pour (re)découvrir ReactJs ainsi que NextJs. J'ai en effet eu l'occasion de\nmanipuler ces deux frameworks, mais sans jamais proposer une version disponible publiquement.\u003c/p\u003e\n"}]},"__N_SSG":true},"page":"/","query":{},"buildId":"1648222878596","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>